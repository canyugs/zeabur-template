# yaml-language-server: $schema=https://schema.zeabur.app/template.json
apiVersion: zeabur.com/v1
kind: Template
metadata:
  name: Supabase (Zeabur Self-hosted)
spec:
  description: An open source Firebase alternative. We're building the features of Firebase using enterprise-grade open source tools.
  coverImage: https://miro.medium.com/v2/resize:fit:1200/1*KllQKJSGK5QruqT8kIElEA.png
  icon: https://icons.zeabur.com/supabase.png
  variables:
    - key: DASHBOARD_USERNAME
      type: STRING
      name: Dashboard Username
      description: What is the username you want for your Supabase Dashboard?
    - key: PUBLIC_DOMAIN
      type: DOMAIN
      name: Domain
      description: What is the domain you want for your Supabase?
  tags:
      - CMS
      - Database
      - Tool
      - API
  readme: |
    # Supabase for Zeabur Self-hosted
    
    This is a demo of Supabase for Zeabur Self-hosted.
    You can use this template to deploy a Supabase instance on Zeabur.

    ## Development Status

    > ‚ö†Ô∏è **This template is currently in active development.**
    > Some services may not be fully functional yet. See the status table below for details.

    | Service | Status | Notes |
    |---------|--------|-------|
    | PostgreSQL | ‚úÖ Working | Core database fully functional |
    | Kong | ‚úÖ Working | API Gateway operational |
    | Studio | ‚úÖ Working | Dashboard accessible |
    | Auth | ‚úÖ Working | Authentication flows working |
    | REST | ‚úÖ Working | PostgREST API functional |
    | Meta | ‚úÖ Working | Database metadata API operational |
    | Vector | ‚úÖ Working | Log collection operational |
    | Analytics | ‚úÖ Working | Logflare integration working |
    | JWT/Keys | ‚úÖ Working | Custom JWT secrets supported |
    | Realtime | ‚ö†Ô∏è Testing | May be unstable, needs more testing |
    | Storage | üöß In Progress | Not fully tested yet |
    | Supavisor | üöß In Progress | Connection pooler needs testing |
    | Functions | üöß Beta | Edge functions not fully tested |

    **Legend:**
    - ‚úÖ Working - Fully tested and operational
    - ‚ö†Ô∏è Testing - Functional but may have issues
    - üöß In Progress - Under development/testing

    ## Services Overview

    ### Core Services (Required)

    1. **postgresql** - PostgreSQL Database
       - The core database for Supabase, stores all application data
       - ‚ö†Ô∏è Required - Cannot be removed

    2. **kong** - API Gateway
       - Unified API entry point, handles routing, authentication, and rate limiting
       - ‚ö†Ô∏è Required - Cannot be removed

    3. **studio** - Supabase Dashboard
       - Web-based admin interface for managing database, auth, storage, etc.
       - ‚ö†Ô∏è Required - Highly recommended for management

    4. **auth** - GoTrue Authentication
       - Handles user registration, login, OAuth, and authentication flows
       - ‚ö†Ô∏è Required - Unless using external authentication system

    5. **rest** - PostgREST API
       - Automatically converts PostgreSQL database to RESTful API
       - ‚ö†Ô∏è Required - Cannot be removed

    6. **meta** - Postgres Meta API
       - Provides database metadata API, used by Studio
       - ‚ö†Ô∏è Required - Studio depends on this

    ### Optional Services

    7. **vector** - Log Aggregation
       - Collects and forwards service logs to Analytics
       - ‚úÖ Optional - Can be removed if log analysis is not needed

    8. **analytics** - Logflare Analytics
       - Log analysis and query service
       - ‚úÖ Optional - Can be removed if log analysis is not needed (remove vector too)

    9. **storage** - File Storage
       - File upload, storage, and management service
       - ‚úÖ Optional - Can be removed if file storage is not needed
       - ‚ö†Ô∏è Status: Not fully tested yet

    10. **imgproxy** - Image Transformation
        - Image conversion and optimization service (for Storage)
        - ‚úÖ Optional - Can be removed if storage is removed

    11. **realtime** - Real-time Subscriptions
        - Provides real-time database change subscriptions
        - ‚úÖ Optional - Can be removed if real-time features are not needed
        - ‚ö†Ô∏è Status: May be unstable

    12. **functions** - Edge Functions
        - Serverless function execution environment (similar to AWS Lambda)
        - ‚úÖ Optional - Can be removed if edge functions are not needed
        - ‚ö†Ô∏è Status: Beta, not fully tested

    13. **supavisor** - Connection Pooler
        - PostgreSQL connection pool manager, improves database connection performance
        - ‚úÖ Optional - Can be removed for small projects
        - ‚ö†Ô∏è Status: Not fully tested yet

    ## Getting Started

    ### Access the Dashboard

    After deployment, your Supabase Studio dashboard will be available at your configured domain.

    **Finding Your Credentials:**
    1. Go to the **Kong service** in your Zeabur project
    2. Click on the **Instructions** tab
    3. You'll find:
       - **Supabase Username**: Your dashboard username (from `DASHBOARD_USERNAME` variable)
       - **Supabase Password**: Auto-generated secure password

    ### Important Security Keys

    The following keys are exposed in the **Kong service** environment variables:

    | Key | Location | Description |
    |-----|----------|-------------|
    | `JWT_SECRET` | Kong service | Secret for signing JWT tokens |
    | `ANON_KEY` | Kong service | Public API key for anonymous access |
    | `SERVICE_ROLE_KEY` | Kong service | Admin API key with full access |

    **‚ö†Ô∏è CRITICAL**: The default keys are for demo purposes only. You **MUST** generate new keys before production use.

    **How to Generate Secure Keys:**
    1. Visit the [Supabase JWT Generator](https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys)
    2. Generate new `ANON_KEY` and `SERVICE_ROLE_KEY` using your custom `JWT_SECRET`
    3. Update the environment variables in the Kong service
    4. Restart all services to apply changes:
       - Go to your **Project** ‚Üí **Settings** ‚Üí **General**
       - Scroll down to **Batch Actions**
       - Click **Restart All** to restart all services

    ## Securing your services
    While we provided you with some example secrets for getting started, you should NEVER deploy your Supabase setup using the defaults we have provided. Follow all of the steps in this section to ensure you have a secure setup, and then restart all services to pick up the changes.

    [Official Guide](https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys)

  services:
    - name: imgproxy
      icon: https://icons.zeabur.com/supabase.png
      template: PREBUILT
      spec:
        ports:
          - id: web
            port: 5001
            type: HTTP
        source:
          image: darthsim/imgproxy:v3.8.0
        volumes:
          - id: vol-0
            dir: /var/lib/storage
        env:
          IMGPROXY_BIND:
            default: ":5001"
          IMGPROXY_LOCAL_FILESYSTEM_ROOT:
            default: /
          IMGPROXY_USE_ETAG:
            default: "true"
          IMGPROXY_ENABLE_WEBP_DETECTION:
            default: "true"
    - name: vector
      icon: https://icons.zeabur.com/supabase.png
      template: PREBUILT
      spec:
        source:
          image: timberio/vector:0.28.1-alpine
        volumes:
        - id: vol-1
          dir: /var/run/docker.sock
        configs:
          - path: /etc/vector/vector.yml
            template: |
              api:
                enabled: true
                address: 0.0.0.0:9001

              sources:
                docker_host:
                  type: docker_logs
                  exclude_containers:
                    - supabase-vector

              transforms:
                project_logs:
                  type: remap
                  inputs:
                    - docker_host
                  source: |-
                    .project = "default"
                    .event_message = del(.message)
                    .appname = del(.container_name)
                    del(.container_created_at)
                    del(.container_id)
                    del(.source_type)
                    del(.stream)
                    del(.label)
                    del(.image)
                    del(.host)
                    del(.stream)
                router:
                  type: route
                  inputs:
                    - project_logs
                  route:
                    kong: '.appname == "supabase-kong"'
                    auth: '.appname == "supabase-auth"'
                    rest: '.appname == "supabase-rest"'
                    realtime: '.appname == "supabase-realtime"'
                    storage: '.appname == "supabase-storage"'
                    functions: '.appname == "supabase-edge-functions"'
                    db: '.appname == "supabase-db"'
                # Ignores non nginx errors since they are related with kong booting up
                kong_logs:
                  type: remap
                  inputs:
                    - router.kong
                  source: |-
                    req, err = parse_nginx_log(.event_message, "combined")
                    if err == null {
                        .timestamp = req.timestamp
                        .metadata.request.headers.referer = req.referer
                        .metadata.request.headers.user_agent = req.agent
                        .metadata.request.headers.cf_connecting_ip = req.client
                        .metadata.request.method = req.method
                        .metadata.request.path = req.path
                        .metadata.request.protocol = req.protocol
                        .metadata.response.status_code = req.status
                    }
                    if err != null {
                      abort
                    }
                # Ignores non nginx errors since they are related with kong booting up
                kong_err:
                  type: remap
                  inputs:
                    - router.kong
                  source: |-
                    .metadata.request.method = "GET"
                    .metadata.response.status_code = 200
                    parsed, err = parse_nginx_log(.event_message, "error")
                    if err == null {
                        .timestamp = parsed.timestamp
                        .severity = parsed.severity
                        .metadata.request.host = parsed.host
                        .metadata.request.headers.cf_connecting_ip = parsed.client
                        url, err = split(parsed.request, " ")
                        if err == null {
                            .metadata.request.method = url[0]
                            .metadata.request.path = url[1]
                            .metadata.request.protocol = url[2]
                        }
                    }
                    if err != null {
                      abort
                    }
                # Gotrue logs are structured json strings which frontend parses directly. But we keep metadata for consistency.
                auth_logs:
                  type: remap
                  inputs:
                    - router.auth
                  source: |-
                    parsed, err = parse_json(.event_message)
                    if err == null {
                        .metadata.timestamp = parsed.time
                        .metadata = merge!(.metadata, parsed)
                    }
                # PostgREST logs are structured so we separate timestamp from message using regex
                rest_logs:
                  type: remap
                  inputs:
                    - router.rest
                  source: |-
                    parsed, err = parse_regex(.event_message, r'^(?P<time>.*): (?P<msg>.*)$')
                    if err == null {
                        .event_message = parsed.msg
                        .timestamp = to_timestamp!(parsed.time)
                        .metadata.host = .project
                    }
                # Realtime logs are structured so we parse the severity level using regex (ignore time because it has no date)
                realtime_logs:
                  type: remap
                  inputs:
                    - router.realtime
                  source: |-
                    .metadata.project = del(.project)
                    .metadata.external_id = .metadata.project
                    parsed, err = parse_regex(.event_message, r'^(?P<time>\d+:\d+:\d+\.\d+) \[(?P<level>\w+)\] (?P<msg>.*)$')
                    if err == null {
                        .event_message = parsed.msg
                        .metadata.level = parsed.level
                    }
                # Function logs are unstructured messages on stderr
                functions_logs:
                  type: remap
                  inputs:
                    - router.functions
                  source: |-
                    .metadata.project_ref = del(.project)
                # Storage logs may contain json objects so we parse them for completeness
                storage_logs:
                  type: remap
                  inputs:
                    - router.storage
                  source: |-
                    .metadata.project = del(.project)
                    .metadata.tenantId = .metadata.project
                    parsed, err = parse_json(.event_message)
                    if err == null {
                        .event_message = parsed.msg
                        .metadata.level = parsed.level
                        .metadata.timestamp = parsed.time
                        .metadata.context[0].host = parsed.hostname
                        .metadata.context[0].pid = parsed.pid
                    }
                # Postgres logs some messages to stderr which we map to warning severity level
                db_logs:
                  type: remap
                  inputs:
                    - router.db
                  source: |-
                    .metadata.host = "db-default"
                    .metadata.parsed.timestamp = .timestamp

                    parsed, err = parse_regex(.event_message, r'.*(?P<level>INFO|NOTICE|WARNING|ERROR|LOG|FATAL|PANIC?):.*', numeric_groups: true)

                    if err != null || parsed == null {
                      .metadata.parsed.error_severity = "info"
                    }
                    if parsed != null {
                    .metadata.parsed.error_severity = parsed.level
                    }
                    if .metadata.parsed.error_severity == "info" {
                        .metadata.parsed.error_severity = "log"
                    }
                    .metadata.parsed.error_severity = upcase!(.metadata.parsed.error_severity)

              sinks:
                logflare_auth:
                  type: 'http'
                  inputs:
                    - auth_logs
                  encoding:
                    codec: 'json'
                  method: 'post'
                  request:
                    retry_max_duration_secs: 10
                    headers:
                      x-api-key: ${LOGFLARE_PUBLIC_ACCESS_TOKEN?LOGFLARE_PUBLIC_ACCESS_TOKEN is required}
                  uri: 'http://analytics:4000/api/logs?source_name=gotrue.logs.prod'
                logflare_realtime:
                  type: 'http'
                  inputs:
                    - realtime_logs
                  encoding:
                    codec: 'json'
                  method: 'post'
                  request:
                    retry_max_duration_secs: 10
                    headers:
                      x-api-key: ${LOGFLARE_PUBLIC_ACCESS_TOKEN?LOGFLARE_PUBLIC_ACCESS_TOKEN is required}
                  uri: 'http://analytics:4000/api/logs?source_name=realtime.logs.prod'
                logflare_rest:
                  type: 'http'
                  inputs:
                    - rest_logs
                  encoding:
                    codec: 'json'
                  method: 'post'
                  request:
                    retry_max_duration_secs: 10
                    headers:
                      x-api-key: ${LOGFLARE_PUBLIC_ACCESS_TOKEN?LOGFLARE_PUBLIC_ACCESS_TOKEN is required}
                  uri: 'http://analytics:4000/api/logs?source_name=postgREST.logs.prod'
                logflare_db:
                  type: 'http'
                  inputs:
                    - db_logs
                  encoding:
                    codec: 'json'
                  method: 'post'
                  request:
                    retry_max_duration_secs: 10
                    headers:
                      x-api-key: ${LOGFLARE_PUBLIC_ACCESS_TOKEN?LOGFLARE_PUBLIC_ACCESS_TOKEN is required}
                  # We must route the sink through kong because ingesting logs before logflare is fully initialised will
                  # lead to broken queries from studio. This works by the assumption that containers are started in the
                  # following order: vector > db > logflare > kong
                  uri: 'http://kong:8000/analytics/v1/api/logs?source_name=postgres.logs'
                logflare_functions:
                  type: 'http'
                  inputs:
                    - functions_logs
                  encoding:
                    codec: 'json'
                  method: 'post'
                  request:
                    retry_max_duration_secs: 10
                    headers:
                      x-api-key: ${LOGFLARE_PUBLIC_ACCESS_TOKEN?LOGFLARE_PUBLIC_ACCESS_TOKEN is required}
                  uri: 'http://analytics:4000/api/logs?source_name=deno-relay-logs'
                logflare_storage:
                  type: 'http'
                  inputs:
                    - storage_logs
                  encoding:
                    codec: 'json'
                  method: 'post'
                  request:
                    retry_max_duration_secs: 10
                    headers:
                      x-api-key: ${LOGFLARE_PUBLIC_ACCESS_TOKEN?LOGFLARE_PUBLIC_ACCESS_TOKEN is required}
                  uri: 'http://analytics:4000/api/logs?source_name=storage.logs.prod.2'
                logflare_kong:
                  type: 'http'
                  inputs:
                    - kong_logs
                    - kong_err
                  encoding:
                    codec: 'json'
                  method: 'post'
                  request:
                    retry_max_duration_secs: 10
                    headers:
                      x-api-key: ${LOGFLARE_PUBLIC_ACCESS_TOKEN?LOGFLARE_PUBLIC_ACCESS_TOKEN is required}
                  uri: 'http://analytics:4000/api/logs?source_name=cloudflare.logs.prod'
              permission: null
              envsubst: true
        # expose from other services
        # env:
        #   LOGFLARE_PUBLIC_ACCESS_TOKEN:
        #     default: ${LOGFLARE_PUBLIC_ACCESS_TOKEN}

        command:
          - --config
          - /etc/vector/vector.yml
    - name: postgresql
      icon: https://icons.zeabur.com/supabase.png
      template: PREBUILT
      spec:
        source:
          image: supabase/postgres:15.8.1.085
        dependencies:
          - vector
        ports:
          - id: database
            port: 5432
            type: TCP
        volumes:
            - id: data
              dir: /var/lib/postgresql
        instructions:
            - title: Connection String
              content: postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}
            - title: PostgreSQL Connect Command
              content: psql "postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}"
            - title: PostgreSQL username
              content: ${DATABASE_USER}
            - title: PostgresSQL password
              content: ${DATABASE_PASSWORD}
            - title: PostgresSQL database
              content: ${DATABASE_NAME}
            - title: PostgreSQL host
              content: ${DATABASE_HOST}
            - title: PostgreSQL port
              content: ${DATABASE_PORT}
        configs:
          - path: /docker-entrypoint-initdb.d/migrations/99-realtime.sql
            template: |
              \set pguser `echo "$DATABASE_USER"`
              create schema if not exists _realtime;
              alter schema _realtime owner to :pguser;
            permission: null
            envsubst: true
          - path: /docker-entrypoint-initdb.d/init-scripts/98-webhooks.sql
            template: |
              BEGIN;
              -- Create pg_net extension
              CREATE EXTENSION IF NOT EXISTS pg_net SCHEMA extensions;
              -- Create supabase_functions schema
              CREATE SCHEMA supabase_functions AUTHORIZATION supabase_admin;
              GRANT USAGE ON SCHEMA supabase_functions TO postgres, anon, authenticated, service_role;
              ALTER DEFAULT PRIVILEGES IN SCHEMA supabase_functions GRANT ALL ON TABLES TO postgres, anon, authenticated, service_role;
              ALTER DEFAULT PRIVILEGES IN SCHEMA supabase_functions GRANT ALL ON FUNCTIONS TO postgres, anon, authenticated, service_role;
              ALTER DEFAULT PRIVILEGES IN SCHEMA supabase_functions GRANT ALL ON SEQUENCES TO postgres, anon, authenticated, service_role;
              -- supabase_functions.migrations definition
              CREATE TABLE supabase_functions.migrations (
                version text PRIMARY KEY,
                inserted_at timestamptz NOT NULL DEFAULT NOW()
              );
              -- Initial supabase_functions migration
              INSERT INTO supabase_functions.migrations (version) VALUES ('initial');
              -- supabase_functions.hooks definition
              CREATE TABLE supabase_functions.hooks (
                id bigserial PRIMARY KEY,
                hook_table_id integer NOT NULL,
                hook_name text NOT NULL,
                created_at timestamptz NOT NULL DEFAULT NOW(),
                request_id bigint
              );
              CREATE INDEX supabase_functions_hooks_request_id_idx ON supabase_functions.hooks USING btree (request_id);
              CREATE INDEX supabase_functions_hooks_h_table_id_h_name_idx ON supabase_functions.hooks USING btree (hook_table_id, hook_name);
              COMMENT ON TABLE supabase_functions.hooks IS 'Supabase Functions Hooks: Audit trail for triggered hooks.';
              CREATE FUNCTION supabase_functions.http_request()
                RETURNS trigger
                LANGUAGE plpgsql
                AS $function$
                DECLARE
                  request_id bigint;
                  payload jsonb;
                  url text := TG_ARGV[0]::text;
                  method text := TG_ARGV[1]::text;
                  headers jsonb DEFAULT '{}'::jsonb;
                  params jsonb DEFAULT '{}'::jsonb;
                  timeout_ms integer DEFAULT 1000;
                BEGIN
                  IF url IS NULL OR url = 'null' THEN
                    RAISE EXCEPTION 'url argument is missing';
                  END IF;

                  IF method IS NULL OR method = 'null' THEN
                    RAISE EXCEPTION 'method argument is missing';
                  END IF;

                  IF TG_ARGV[2] IS NULL OR TG_ARGV[2] = 'null' THEN
                    headers = '{"Content-Type": "application/json"}'::jsonb;
                  ELSE
                    headers = TG_ARGV[2]::jsonb;
                  END IF;

                  IF TG_ARGV[3] IS NULL OR TG_ARGV[3] = 'null' THEN
                    params = '{}'::jsonb;
                  ELSE
                    params = TG_ARGV[3]::jsonb;
                  END IF;

                  IF TG_ARGV[4] IS NULL OR TG_ARGV[4] = 'null' THEN
                    timeout_ms = 1000;
                  ELSE
                    timeout_ms = TG_ARGV[4]::integer;
                  END IF;

                  CASE
                    WHEN method = 'GET' THEN
                      SELECT http_get INTO request_id FROM net.http_get(
                        url,
                        params,
                        headers,
                        timeout_ms
                      );
                    WHEN method = 'POST' THEN
                      payload = jsonb_build_object(
                        'old_record', OLD,
                        'record', NEW,
                        'type', TG_OP,
                        'table', TG_TABLE_NAME,
                        'schema', TG_TABLE_SCHEMA
                      );

                      SELECT http_post INTO request_id FROM net.http_post(
                        url,
                        payload,
                        params,
                        headers,
                        timeout_ms
                      );
                    ELSE
                      RAISE EXCEPTION 'method argument % is invalid', method;
                  END CASE;

                  INSERT INTO supabase_functions.hooks
                    (hook_table_id, hook_name, request_id)
                  VALUES
                    (TG_RELID, TG_NAME, request_id);

                  RETURN NEW;
                END
              $function$;
              -- Supabase super admin
              DO
              $$
              BEGIN
                IF NOT EXISTS (
                  SELECT 1
                  FROM pg_roles
                  WHERE rolname = 'supabase_functions_admin'
                )
                THEN
                  CREATE USER supabase_functions_admin NOINHERIT CREATEROLE LOGIN NOREPLICATION;
                END IF;
              END
              $$;
              GRANT ALL PRIVILEGES ON SCHEMA supabase_functions TO supabase_functions_admin;
              GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA supabase_functions TO supabase_functions_admin;
              GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA supabase_functions TO supabase_functions_admin;
              ALTER USER supabase_functions_admin SET search_path = "supabase_functions";
              ALTER table "supabase_functions".migrations OWNER TO supabase_functions_admin;
              ALTER table "supabase_functions".hooks OWNER TO supabase_functions_admin;
              ALTER function "supabase_functions".http_request() OWNER TO supabase_functions_admin;
              GRANT supabase_functions_admin TO postgres;
              -- Remove unused supabase_pg_net_admin role
              DO
              $$
              BEGIN
                IF EXISTS (
                  SELECT 1
                  FROM pg_roles
                  WHERE rolname = 'supabase_pg_net_admin'
                )
                THEN
                  REASSIGN OWNED BY supabase_pg_net_admin TO supabase_admin;
                  DROP OWNED BY supabase_pg_net_admin;
                  DROP ROLE supabase_pg_net_admin;
                END IF;
              END
              $$;
              -- pg_net grants when extension is already enabled
              DO
              $$
              BEGIN
                IF EXISTS (
                  SELECT 1
                  FROM pg_extension
                  WHERE extname = 'pg_net'
                )
                THEN
                  GRANT USAGE ON SCHEMA net TO supabase_functions_admin, postgres, anon, authenticated, service_role;
                  ALTER function net.http_get(url text, params jsonb, headers jsonb, timeout_milliseconds integer) SECURITY DEFINER;
                  ALTER function net.http_post(url text, body jsonb, params jsonb, headers jsonb, timeout_milliseconds integer) SECURITY DEFINER;
                  ALTER function net.http_get(url text, params jsonb, headers jsonb, timeout_milliseconds integer) SET search_path = net;
                  ALTER function net.http_post(url text, body jsonb, params jsonb, headers jsonb, timeout_milliseconds integer) SET search_path = net;
                  REVOKE ALL ON FUNCTION net.http_get(url text, params jsonb, headers jsonb, timeout_milliseconds integer) FROM PUBLIC;
                  REVOKE ALL ON FUNCTION net.http_post(url text, body jsonb, params jsonb, headers jsonb, timeout_milliseconds integer) FROM PUBLIC;
                  GRANT EXECUTE ON FUNCTION net.http_get(url text, params jsonb, headers jsonb, timeout_milliseconds integer) TO supabase_functions_admin, postgres, anon, authenticated, service_role;
                  GRANT EXECUTE ON FUNCTION net.http_post(url text, body jsonb, params jsonb, headers jsonb, timeout_milliseconds integer) TO supabase_functions_admin, postgres, anon, authenticated, service_role;
                END IF;
              END
              $$;
              -- Event trigger for pg_net
              CREATE OR REPLACE FUNCTION extensions.grant_pg_net_access()
              RETURNS event_trigger
              LANGUAGE plpgsql
              AS $$
              BEGIN
                IF EXISTS (
                  SELECT 1
                  FROM pg_event_trigger_ddl_commands() AS ev
                  JOIN pg_extension AS ext
                  ON ev.objid = ext.oid
                  WHERE ext.extname = 'pg_net'
                )
                THEN
                  GRANT USAGE ON SCHEMA net TO supabase_functions_admin, postgres, anon, authenticated, service_role;
                  ALTER function net.http_get(url text, params jsonb, headers jsonb, timeout_milliseconds integer) SECURITY DEFINER;
                  ALTER function net.http_post(url text, body jsonb, params jsonb, headers jsonb, timeout_milliseconds integer) SECURITY DEFINER;
                  ALTER function net.http_get(url text, params jsonb, headers jsonb, timeout_milliseconds integer) SET search_path = net;
                  ALTER function net.http_post(url text, body jsonb, params jsonb, headers jsonb, timeout_milliseconds integer) SET search_path = net;
                  REVOKE ALL ON FUNCTION net.http_get(url text, params jsonb, headers jsonb, timeout_milliseconds integer) FROM PUBLIC;
                  REVOKE ALL ON FUNCTION net.http_post(url text, body jsonb, params jsonb, headers jsonb, timeout_milliseconds integer) FROM PUBLIC;
                  GRANT EXECUTE ON FUNCTION net.http_get(url text, params jsonb, headers jsonb, timeout_milliseconds integer) TO supabase_functions_admin, postgres, anon, authenticated, service_role;
                  GRANT EXECUTE ON FUNCTION net.http_post(url text, body jsonb, params jsonb, headers jsonb, timeout_milliseconds integer) TO supabase_functions_admin, postgres, anon, authenticated, service_role;
                END IF;
              END;
              $$;
              COMMENT ON FUNCTION extensions.grant_pg_net_access IS 'Grants access to pg_net';
              DO
              $$
              BEGIN
                IF NOT EXISTS (
                  SELECT 1
                  FROM pg_event_trigger
                  WHERE evtname = 'issue_pg_net_access'
                ) THEN
                  CREATE EVENT TRIGGER issue_pg_net_access ON ddl_command_end WHEN TAG IN ('CREATE EXTENSION')
                  EXECUTE PROCEDURE extensions.grant_pg_net_access();
                END IF;
              END
              $$;
              INSERT INTO supabase_functions.migrations (version) VALUES ('20210809183423_update_grants');
              ALTER function supabase_functions.http_request() SECURITY DEFINER;
              ALTER function supabase_functions.http_request() SET search_path = supabase_functions;
              REVOKE ALL ON FUNCTION supabase_functions.http_request() FROM PUBLIC;
              GRANT EXECUTE ON FUNCTION supabase_functions.http_request() TO postgres, anon, authenticated, service_role;
              COMMIT;
            permission: null
            envsubst: null
          - path: /docker-entrypoint-initdb.d/init-scripts/99-roles.sql
            template: |
              -- NOTE: change to your own passwords for production environments
              \set pgpass `echo "$DATABASE_PASSWORD"`
              ALTER USER authenticator WITH PASSWORD :'pgpass';
              ALTER USER pgbouncer WITH PASSWORD :'pgpass';
              ALTER USER supabase_auth_admin WITH PASSWORD :'pgpass';
              ALTER USER supabase_functions_admin WITH PASSWORD :'pgpass';
              ALTER USER supabase_storage_admin WITH PASSWORD :'pgpass';
            permission: null
            envsubst: true
          - path: /docker-entrypoint-initdb.d/init-scripts/99-jwt.sql
            template: |
              \set jwt_secret `echo "$JWT_SECRET"`
              \set jwt_exp `echo "$JWT_EXP"`

              ALTER DATABASE postgres SET "app.settings.jwt_secret" TO :'jwt_secret';
              ALTER DATABASE postgres SET "app.settings.jwt_exp" TO :'jwt_exp';
            permission: null
            envsubst: true
          - path: /docker-entrypoint-initdb.d/migrations/97-_supabase.sql
            template: |
              \set pguser `echo "$DATABASE_USER"`
              CREATE DATABASE _supabase WITH OWNER :pguser;
            permission: null
            envsubst: true
          - path: /docker-entrypoint-initdb.d/migrations/99-logs.sql
            template: |
              \set pguser `echo "$DATABASE_USER"`
              \c _supabase
              create schema if not exists _analytics;
              alter schema _analytics owner to :pguser;
              \c postgres
            permission: null
            envsubst: true
          - path: /docker-entrypoint-initdb.d/migrations/99-pooler.sql
            template: |
              \set pguser `echo "$DATABASE_USER"`
              \c _supabase
              create schema if not exists _supavisor;
              alter schema _supavisor owner to :pguser;
              \c postgres
            permission: null
            envsubst: true
        env:
          # expose from other services
          # JWT_SECRET:
          #   default: your-super-secret-jwt-token-with-at-least-32-characters-long
          #   expose: true
          # JWT_EXPIRY:
          #   default: "3600"
          #   expose: true
          POSTGRES_HOST:
            default: /var/run/postgresql
          POSTGRES_PASSWORD:
            default: ${DATABASE_PASSWORD}
          PGPORT:
            default: ${DATABASE_PORT}
          PGPASSWORD:
            default: ${DATABASE_PASSWORD}
          PGDATABASE:
            default: ${DATABASE_NAME}
          
          DATABASE_NAME:
            default: postgres
            expose: true
          DATABASE_USER:
            default: supabase_admin
            expose: true
          DATABASE_PASSWORD:
            default: ${PASSWORD}
            expose: true
          DATABASE_HOST:
            default: ${CONTAINER_HOSTNAME}
            expose: true
            readonly: true
          DATABASE_PORT:
            default: "5432"
            expose: true
        command:
          - postgres
          - -c
          - config_file=/etc/postgresql/postgresql.conf
          - -c
          - log_min_messages=fatal
    - name: analytics
      icon: https://icons.zeabur.com/supabase.png
      template: PREBUILT
      spec:
        source:
          image: supabase/logflare:1.22.6
        dependencies:
          - postgresql
        ports:
          - id: web
            port: 4000
            type: HTTP
        env:
          LOGFLARE_NODE_HOST:
            default: 127.0.0.1
          DB_USERNAME:
            default: ${DATABASE_USER}
          DB_DATABASE:
            default: _supabase
          DB_HOSTNAME:
            default: postgresql
          DB_PORT:
            default: ${DATABASE_PORT}
          DB_PASSWORD:
            default: ${DATABASE_PASSWORD}
          DB_SCHEMA:
            default: _analytics

          LOGFLARE_PUBLIC_ACCESS_TOKEN:
            default: your-super-secret-and-long-logflare-key-public
            expose: true
          LOGFLARE_PRIVATE_ACCESS_TOKEN:
            default: your-super-secret-and-long-logflare-key-private
            expose: true

          LOGFLARE_SINGLE_TENANT:
            default: "true"
          LOGFLARE_SUPABASE_MODE:
            default: "true"
          LOGFLARE_MIN_CLUSTER_SIZE:
            default: "1"
          POSTGRES_BACKEND_URL:
            default: postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@${POSTGRESQL_HOST}:${DATABASE_PORT}/_supabase
          POSTGRES_BACKEND_SCHEMA:
            default: _analytics
          LOGFLARE_FEATURE_FLAG_OVERRIDE:
            default: multibackend=true
          ANALYTICS_HOST:
            default: ${CONTAINER_HOSTNAME}
            expose: true
            readonly: true
    - name: meta
      icon: https://icons.zeabur.com/supabase.png
      template: PREBUILT
      spec:
        source:
          image: supabase/postgres-meta:v0.93.0
        ports:
          - id: web
            port: 8080
            type: HTTP
        dependencies:
          - postgresql
        env:
          PG_META_HOST:
            default: 0.0.0.0
          PG_META_PORT:
            default: "8080"
          PG_META_DB_HOST:
            default: postgresql
          PG_META_DB_PORT:
            default: ${DATABASE_PORT}
          PG_META_DB_NAME:
            default: ${DATABASE_NAME}
          PG_META_DB_USER:
            default: ${DATABASE_USER}
          PG_META_DB_PASSWORD:
            default: ${DATABASE_PASSWORD}
          CRYPTO_KEY:
            default: ${PG_META_CRYPTO_KEY}
    - name: auth
      icon: https://icons.zeabur.com/supabase.png
      template: PREBUILT
      spec:
        source:
          image: supabase/gotrue:v2.180.0
        dependencies:
          - postgresql
          - analytics
        ports:
          - id: web
            port: 9999
            type: HTTP
        env:
          GOTRUE_API_HOST:
            default: 0.0.0.0
          GOTRUE_API_PORT:
            default: "9999"
          API_EXTERNAL_URL:
            default: https://${SUPABASE_PUBLIC_DOMAIN}

          GOTRUE_DB_DRIVER:
            default: postgres
          GOTRUE_DB_DATABASE_URL:
            default: postgres://supabase_auth_admin:${DATABASE_PASSWORD}@postgresql:${DATABASE_PORT}/${DATABASE_NAME}

          GOTRUE_SITE_URL:
            default: http://auth:9999
          GOTRUE_URI_ALLOW_LIST:
            default: ""
          GOTRUE_DISABLE_SIGNUP:
            default: "false"
          GOTRUE_JWT_ADMIN_ROLES:
            default: service_role
          GOTRUE_JWT_AUD:
            default: authenticated
          GOTRUE_JWT_DEFAULT_GROUP_NAME:
            default: authenticated
          GOTRUE_JWT_EXP:
            default: ${JWT_EXPIRY}
          GOTRUE_JWT_SECRET:
            default: ${JWT_SECRET}

          # Email configuration
          GOTRUE_EXTERNAL_EMAIL_ENABLED:
            default: "true"
          GOTRUE_EXTERNAL_ANONYMOUS_USERS_ENABLED:
            default: "false"
          GOTRUE_MAILER_AUTOCONFIRM:
            default: "false"
          GOTRUE_SMTP_ADMIN_EMAIL:
            default: admin@example.com
          GOTRUE_SMTP_HOST:
            default: supabase-mail
          GOTRUE_SMTP_PORT:
            default: "2500"
          GOTRUE_SMTP_USER:
            default: fake_mail_user
          GOTRUE_SMTP_PASS:
            default: fake_mail_password
          GOTRUE_SMTP_SENDER_NAME:
            default: fake_sender
          GOTRUE_MAILER_URLPATHS_INVITE:
            default: /auth/v1/verify
          GOTRUE_MAILER_URLPATHS_CONFIRMATION:
            default: /auth/v1/verify
          GOTRUE_MAILER_URLPATHS_RECOVERY:
            default: /auth/v1/verify
          GOTRUE_MAILER_URLPATHS_EMAIL_CHANGE:
            default: /auth/v1/verify

          ## Phone auth
          GOTRUE_EXTERNAL_PHONE_ENABLED:
            default: "true"
          GOTRUE_SMS_AUTOCONFIRM:
            default: "true"
    - name: rest
      icon: https://icons.zeabur.com/supabase.png
      template: PREBUILT
      spec:
        source:
          image: postgrest/postgrest:v13.0.7
        dependencies:
          - postgresql
          - analytics
        ports:
          - id: web
            port: 3000
            type: HTTP
        env:
          PGRST_DB_URI:
            default: postgres://${DATABASE_USER}:${DATABASE_PASSWORD}@${POSTGRESQL_HOST}:${DATABASE_PORT}/${DATABASE_NAME}
          PGRST_DB_SCHEMAS:
            default: public,storage,graphql_public
          PGRST_DB_ANON_ROLE:
            default: anon
          PGRST_JWT_SECRET:
            default: ${JWT_SECRET}
          PGRST_DB_USE_LEGACY_GUCS:
            default: "false"
          PGRST_APP_SETTINGS_JWT_SECRET:
            default: ${JWT_SECRET}
          PGRST_APP_SETTINGS_JWT_EXP:
            default: ${JWT_EXPIRY}
          REST_HOST:
            default: ${CONTAINER_HOSTNAME}
            expose: true
            readonly: true
        command:
          - postgrest
    - name: studio
      icon: https://icons.zeabur.com/supabase.png
      template: PREBUILT
      spec:
        source:
          image: supabase/studio:2025.10.20-sha-5005fc6
        dependencies:
          - analytics
          - postgresql
          - kong
        ports:
          - id: web
            port: 3000
            type: HTTP
        env:
          HOSTNAME:
            default: 0.0.0.0
          STUDIO_PG_META_URL:
            default: http://meta:8080
          POSTGRES_DB:
            default: ${DATABASE_NAME}
          POSTGRES_HOST:
            default: postgresql
          POSTGRES_PASSWORD:
            default: ${DATABASE_PASSWORD}
          PG_META_CRYPTO_KEY:
            default: your-encryption-key-32-chars-min
            expose: true
          DEFAULT_ORGANIZATION_NAME:
            default: Default Organization
          DEFAULT_PROJECT_NAME:
            default: Default Project
          OPENAI_API_KEY:
            default: ${OPENAI_API_KEY}
          SUPABASE_URL:
            default: http://kong:8000
          SUPABASE_PUBLIC_URL:
            default: https://${SUPABASE_PUBLIC_DOMAIN}
          SUPABASE_ANON_KEY:
            default: ${ANON_KEY}
          SUPABASE_SERVICE_KEY:
            default: ${SERVICE_ROLE_KEY}
          AUTH_JWT_SECRET:
            default: ${JWT_SECRET}
          # expose from other services
          # LOGFLARE_PRIVATE_ACCESS_TOKEN:
          #   default: ${LOGFLARE_PRIVATE_ACCESS_TOKEN}
          LOGFLARE_URL:
            default: http://analytics:4000
          NEXT_PUBLIC_ENABLE_LOGS:
            default: "true"
          NEXT_ANALYTICS_BACKEND_PROVIDER:
            default: postgres
    - name: storage
      icon: https://icons.zeabur.com/supabase.png
      template: PREBUILT
      spec:
        source:
          image: supabase/storage-api:v1.28.1
        dependencies:
          - postgresql
          - rest
          - imgproxy
        ports:
          - id: web
            port: 5000
            type: HTTP
        volumes:
          - id: vol-0
            dir: /var/lib/storage
        env:
          POSTGREST_URL:
            default: http://rest:3000
          PGRST_JWT_SECRET:
            default: ${JWT_SECRET}
          PG_STORAGE_ADMIN_USERNAME:
            default: supabase_storage_admin
          PG_STORAGE_ADMIN_PASSWORD:
            default: ${DATABASE_PASSWORD}
          DATABASE_URL:
            default: postgres://${PG_STORAGE_ADMIN_USERNAME}:${PG_STORAGE_ADMIN_PASSWORD}@postgresql:${DATABASE_PORT}/${DATABASE_NAME}
          FILE_SIZE_LIMIT:
            default: "52428800"
          STORAGE_BACKEND:
            default: file
          FILE_STORAGE_BACKEND_PATH:
            default: /var/lib/storage
          TENANT_ID:
            default: stub
          REGION:
            default: stub
          GLOBAL_S3_BUCKET:
            default: stub
          ENABLE_IMAGE_TRANSFORMATION:
            default: "true"
          IMGPROXY_URL:
            default: http://imgproxy:5001
    - name: kong
      icon: https://icons.zeabur.com/kong.svg
      template: PREBUILT
      domainKey: PUBLIC_DOMAIN
      spec:
        source:
          image: kong:2.8.1
        dependencies:
          - analytics
        ports:
          - id: web
            port: 8000
            type: HTTP
        instructions:
          - title: Supabase Username
            content: ${DASHBOARD_USERNAME}
          - title: Supabase Password
            content: ${DASHBOARD_PASSWORD}
        configs:
          - path: /home/kong/kong.yml
            template: |
              _format_version: '2.1'
              _transform: true

              ###
              ### Consumers / Users
              ###
              consumers:
                - username: DASHBOARD
                - username: anon
                  keyauth_credentials:
                    - key: ${ANON_KEY}
                - username: service_role
                  keyauth_credentials:
                    - key: ${SERVICE_ROLE_KEY}

              ###
              ### Access Control List
              ###
              acls:
                - consumer: anon
                  group: anon
                - consumer: service_role
                  group: admin

              ###
              ### Dashboard credentials
              ###
              basicauth_credentials:
                - consumer: DASHBOARD
                  username: $DASHBOARD_USERNAME
                  password: $DASHBOARD_PASSWORD

              ###
              ### API Routes
              ###
              services:
                ## Open Auth routes
                - name: auth-v1-open
                  url: http://auth:9999/verify
                  routes:
                    - name: auth-v1-open
                      strip_path: true
                      paths:
                        - /auth/v1/verify
                  plugins:
                    - name: cors
                - name: auth-v1-open-callback
                  url: http://auth:9999/callback
                  routes:
                    - name: auth-v1-open-callback
                      strip_path: true
                      paths:
                        - /auth/v1/callback
                  plugins:
                    - name: cors
                - name: auth-v1-open-authorize
                  url: http://auth:9999/authorize
                  routes:
                    - name: auth-v1-open-authorize
                      strip_path: true
                      paths:
                        - /auth/v1/authorize
                  plugins:
                    - name: cors

                ## Secure Auth routes
                - name: auth-v1
                  _comment: 'GoTrue: /auth/v1/* -> http://auth:9999/*'
                  url: http://auth:9999/
                  routes:
                    - name: auth-v1-all
                      strip_path: true
                      paths:
                        - /auth/v1/
                  plugins:
                    - name: cors
                    - name: key-auth
                      config:
                        hide_credentials: false
                    - name: acl
                      config:
                        hide_groups_header: true
                        allow:
                          - admin
                          - anon

                ## Secure REST routes
                - name: rest-v1
                  _comment: 'PostgREST: /rest/v1/* -> http://rest:3000/*'
                  url: http://rest:3000/
                  routes:
                    - name: rest-v1-all
                      strip_path: true
                      paths:
                        - /rest/v1/
                  plugins:
                    - name: cors
                    - name: key-auth
                      config:
                        hide_credentials: true
                    - name: acl
                      config:
                        hide_groups_header: true
                        allow:
                          - admin
                          - anon

                ## Secure GraphQL routes
                - name: graphql-v1
                  _comment: 'PostgREST: /graphql/v1/* -> http://rest:3000/rpc/graphql'
                  url: http://rest:3000/rpc/graphql
                  routes:
                    - name: graphql-v1-all
                      strip_path: true
                      paths:
                        - /graphql/v1
                  plugins:
                    - name: cors
                    - name: key-auth
                      config:
                        hide_credentials: true
                    - name: request-transformer
                      config:
                        add:
                          headers:
                            - Content-Profile:graphql_public
                    - name: acl
                      config:
                        hide_groups_header: true
                        allow:
                          - admin
                          - anon

                ## Secure Realtime routes
                - name: realtime-v1-ws
                  _comment: 'Realtime: /realtime/v1/* -> ws://realtime:4000/socket/*'
                  url: http://realtime:4000/socket
                  protocol: ws
                  routes:
                    - name: realtime-v1-ws
                      strip_path: true
                      paths:
                        - /realtime/v1/
                  plugins:
                    - name: cors
                    - name: key-auth
                      config:
                        hide_credentials: false
                    - name: acl
                      config:
                        hide_groups_header: true
                        allow:
                          - admin
                          - anon
                - name: realtime-v1-rest
                  _comment: 'Realtime: /realtime/v1/* -> ws://realtime:4000/socket/*'
                  url: http://realtime:4000/api
                  protocol: http
                  routes:
                    - name: realtime-v1-rest
                      strip_path: true
                      paths:
                        - /realtime/v1/api
                  plugins:
                    - name: cors
                    - name: key-auth
                      config:
                        hide_credentials: false
                    - name: acl
                      config:
                        hide_groups_header: true
                        allow:
                          - admin
                          - anon
                ## Storage routes: the storage server manages its own auth
                - name: storage-v1
                  _comment: 'Storage: /storage/v1/* -> http://storage:5000/*'
                  url: http://storage:5000/
                  routes:
                    - name: storage-v1-all
                      strip_path: true
                      paths:
                        - /storage/v1/
                  plugins:
                    - name: cors
          
                ## Edge Functions routes
                - name: functions-v1
                  _comment: 'Edge Functions: /functions/v1/* -> http://functions:9000/*'
                  url: http://functions:9000/
                  routes:
                    - name: functions-v1-all
                      strip_path: true
                      paths:
                        - /functions/v1/
                  plugins:
                    - name: cors

                ## Analytics routes
                - name: analytics-v1
                  _comment: 'Analytics: /analytics/v1/* -> http://logflare:4000/*'
                  url: http://analytics:4000/
                  routes:
                    - name: analytics-v1-all
                      strip_path: true
                      paths:
                        - /analytics/v1/

                ## Secure Database routes
                - name: meta
                  _comment: 'pg-meta: /pg/* -> http://pg-meta:8080/*'
                  url: http://meta:8080/
                  routes:
                    - name: meta-all
                      strip_path: true
                      paths:
                        - /pg/
                  plugins:
                    - name: key-auth
                      config:
                        hide_credentials: false
                    - name: acl
                      config:
                        hide_groups_header: true
                        allow:
                          - admin

                ## Protected Dashboard - catch all remaining routes
                - name: dashboard
                  _comment: 'Studio: /* -> http://studio:3000/*'
                  url: http://studio:3000/
                  routes:
                    - name: dashboard-all
                      strip_path: true
                      paths:
                        - /
                  plugins:
                    - name: cors
                    - name: basic-auth
                      config:
                        hide_credentials: true
            permission: null
            envsubst: true
        env:
          JWT_SECRET:
            default: your-super-secret-jwt-token-with-at-least-32-characters-long
            expose: true
          JWT_EXPIRY:
            default: "3600"
            expose: true
          ANON_KEY:
            default: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE
            expose: true
          SERVICE_ROLE_KEY:
            default: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q
            expose: true
          DASHBOARD_USERNAME:
            default: ${DASHBOARD_USERNAME}
            expose: true
          DASHBOARD_PASSWORD:
            default: ${PASSWORD}
            expose: true

          KONG_DATABASE:
            default: "off"
          KONG_DECLARATIVE_CONFIG:
            default: /home/kong/kong.yml
          KONG_DNS_ORDER:
            default: LAST,A,CNAME
          KONG_PLUGINS:
            default: request-transformer,cors,key-auth,acl,basic-auth
          KONG_NGINX_WORKER_PROCESSES:
            default: "1"
          KONG_NGINX_PROXY_PROXY_BUFFER_SIZE:
            default: 160k
          KONG_NGINX_PROXY_PROXY_BUFFERS:
            default: 64 160k
          SUPABASE_ANON_KEY:
            default: ${ANON_KEY}
          SUPABASE_SERVICE_KEY:
            default: ${SERVICE_ROLE_KEY}
          SUPABASE_PUBLIC_DOMAIN:
            default: ${ZEABUR_WEB_DOMAIN}
            expose: true

    - name: realtime
      icon: https://icons.zeabur.com/supabase.png
      template: PREBUILT
      spec:
        source:
          image: supabase/realtime:v2.56.0
        dependencies:
          - postgresql
          - analytics
        ports:
          - id: web
            port: 4000
            type: HTTP
        env:
          PORT:
            default: "4000"
          DB_HOST:
            default: postgresql
          DB_PORT:
            default: ${DATABASE_PORT}
          DB_USER:
            default: ${DATABASE_USER}
          DB_PASSWORD:
            default: ${DATABASE_PASSWORD}
          DB_NAME:
            default: ${DATABASE_NAME}
          DB_AFTER_CONNECT_QUERY:
            default: SET search_path TO _realtime
          DB_ENC_KEY:
            default: supabaserealtime
          API_JWT_SECRET:
            default: ${JWT_SECRET}
          # expose from other services
          # SECRET_KEY_BASE:
          #     default: ${PASSWORD}
          ERL_AFLAGS:
            default: -proto_dist inet_tcp
          DNS_NODES:
              default: ''''''
          RLIMIT_NOFILE:
            default: "10000"
          APP_NAME:
            default: realtime
          SEED_SELF_HOST:
            default: "true"
          RUN_JANITOR:
            default: "true"
          REALTIME_HOST:
            default: ${CONTAINER_HOSTNAME}
            expose: true
            readonly: true
    - name: supavisor
      icon: https://icons.zeabur.com/supabase.png
      template: PREBUILT
      spec:
        source:
          image: supabase/supavisor:2.7.3
        dependencies:
          - postgresql
        ports:
          - id: web
            port: 4000
            type: HTTP
          - id: port1
            port: 6543
            type: TCP
          - id: port2
            port: 5432
            type: TCP
        configs:
          - path: /etc/pooler/pooler.exs
            template: |
              {:ok, _} = Application.ensure_all_started(:supavisor)

              {:ok, version} =
                case Supavisor.Repo.query!("select version()") do
                  %{rows: [[ver]]} -> Supavisor.Helpers.parse_pg_version(ver)
                  _ -> nil
                end

              params = %{
                "external_id" => System.get_env("POOLER_TENANT_ID"),
                "db_host" => postgresql,
                "db_port" => System.get_env("DATABASE_PORT"),
                "db_database" => System.get_env("DATABASE_NAME"),
                "require_user" => false,
                "auth_query" => "SELECT * FROM pgbouncer.get_auth($1)",
                "default_max_clients" => System.get_env("POOLER_MAX_CLIENT_CONN"),
                "default_pool_size" => System.get_env("POOLER_DEFAULT_POOL_SIZE"),
                "default_parameter_status" => %{"server_version" => version},
                "users" => [%{
                  "db_user" => "pgbouncer",
                  "db_password" => System.get_env("DATABASE_PASSWORD"),
                  "mode_type" => System.get_env("POOLER_POOL_MODE"),
                  "pool_size" => System.get_env("POOLER_DEFAULT_POOL_SIZE"),
                  "is_manager" => true
                }]
              }

              if !Supavisor.Tenants.get_tenant_by_external_id(params["external_id"]) do
                {:ok, _} = Supavisor.Tenants.create_tenant(params)
              end
            permission: null
            envsubst: true
        env:
          PORT:
            default: "4000"
          POSTGRES_PORT:
            default: ${DATABASE_PORT}
          POSTGRES_DB:
            default: ${DATABASE_NAME}
          POSTGRES_PASSWORD:
            default: ${DATABASE_PASSWORD}
          DATABASE_URL:
            default: ecto://supabase_admin:${DATABASE_PASSWORD}@postgresql:${DATABASE_PORT}/_supabase
          CLUSTER_POSTGRES:
            default: "true"
          SECRET_KEY_BASE:
            default: ${PASSWORD}
            expose: true
          VAULT_ENC_KEY:
            default: your-encryption-key-32-chars-min
          API_JWT_SECRET:
            default: ${JWT_SECRET}
          METRICS_JWT_SECRET:
            default: ${JWT_SECRET}
          REGION:
            default: local
          ERL_AFLAGS:
            default: -proto_dist inet_tcp
          POOLER_TENANT_ID:
            default: your-tenant-id
          POOLER_DEFAULT_POOL_SIZE:
            default: "20"
          POOLER_MAX_CLIENT_CONN:
            default: "100"
          POOLER_POOL_MODE:
            default: transaction
          DB_POOL_SIZE:
            default: "20"
        command:
          - /bin/sh
          - -c
          - /app/bin/migrate && /app/bin/supavisor eval "$$(cat /etc/pooler/pooler.exs)" && /app/bin/server
    - name: functions
      icon: https://icons.zeabur.com/supabase.png
      template: PREBUILT
      spec:
        source:
          image: supabase/edge-runtime:v1.69.14
        dependencies:
          - postgresql    
        ports:
          - id: web
            port: 9000
            type: HTTP
        configs:
          - path: /home/deno/functions/hello/index.ts
            template: |
              // Follow this setup guide to integrate the Deno language server with your editor:
              // https://deno.land/manual/getting_started/setup_your_environment
              // This enables autocomplete, go to definition, etc.

              import { serve } from "https://deno.land/std@0.177.1/http/server.ts"

              serve(async () => {
                return new Response(
                  `"Hello from Edge Functions!"`,
                  { headers: { "Content-Type": "application/json" } },
                )
              })

              // To invoke:
              // curl 'http://localhost:<KONG_HTTP_PORT>/functions/v1/hello' \
              //   --header 'Authorization: Bearer <anon/service_role API key>'
            permission: null
            envsubst: false
          - path: /home/deno/functions/main/index.ts
            template: |
              import { serve } from 'https://deno.land/std@0.131.0/http/server.ts'
              import * as jose from 'https://deno.land/x/jose@v4.14.4/index.ts'

              console.log('main function started')

              const JWT_SECRET = Deno.env.get('JWT_SECRET')
              const VERIFY_JWT = Deno.env.get('VERIFY_JWT') === 'true'

              function getAuthToken(req: Request) {
                const authHeader = req.headers.get('authorization')
                if (!authHeader) {
                  throw new Error('Missing authorization header')
                }
                const [bearer, token] = authHeader.split(' ')
                if (bearer !== 'Bearer') {
                  throw new Error(`Auth header is not 'Bearer {token}'`)
                }
                return token
              }

              async function verifyJWT(jwt: string): Promise<boolean> {
                const encoder = new TextEncoder()
                const secretKey = encoder.encode(JWT_SECRET)
                try {
                  await jose.jwtVerify(jwt, secretKey)
                } catch (err) {
                  console.error(err)
                  return false
                }
                return true
              }

              serve(async (req: Request) => {
                if (req.method !== 'OPTIONS' && VERIFY_JWT) {
                  try {
                    const token = getAuthToken(req)
                    const isValidJWT = await verifyJWT(token)

                    if (!isValidJWT) {
                      return new Response(JSON.stringify({ msg: 'Invalid JWT' }), {
                        status: 401,
                        headers: { 'Content-Type': 'application/json' },
                      })
                    }
                  } catch (e) {
                    console.error(e)
                    return new Response(JSON.stringify({ msg: e.toString() }), {
                      status: 401,
                      headers: { 'Content-Type': 'application/json' },
                    })
                  }
                }

                const url = new URL(req.url)
                const { pathname } = url
                const path_parts = pathname.split('/')
                const service_name = path_parts[1]

                if (!service_name || service_name === '') {
                  const error = { msg: 'missing function name in request' }
                  return new Response(JSON.stringify(error), {
                    status: 400,
                    headers: { 'Content-Type': 'application/json' },
                  })
                }

                const servicePath = `/home/deno/functions/${service_name}`
                console.error(`serving the request with ${servicePath}`)

                const memoryLimitMb = 150
                const workerTimeoutMs = 1 * 60 * 1000
                const noModuleCache = false
                const importMapPath = null
                const envVarsObj = Deno.env.toObject()
                const envVars = Object.keys(envVarsObj).map((k) => [k, envVarsObj[k]])

                try {
                  const worker = await EdgeRuntime.userWorkers.create({
                    servicePath,
                    memoryLimitMb,
                    workerTimeoutMs,
                    noModuleCache,
                    importMapPath,
                    envVars,
                  })
                  return await worker.fetch(req)
                } catch (e) {
                  const error = { msg: e.toString() }
                  return new Response(JSON.stringify(error), {
                    status: 500,
                    headers: { 'Content-Type': 'application/json' },
                  })
                }
              })
            permission: null
            envsubst: false
        volumes:
          - id: vol-0
            dir: /home/deno/functions
        env:
          # expose from other services
          # JWT_SECRET:
          #   default: ${JWT_SECRET}
          SUPABASE_URL:
            default: http://kong:8000
          SUPABASE_ANON_KEY:
            default: ${ANON_KEY}
          SUPABASE_SERVICE_ROLE_KEY:
            default: ${SERVICE_ROLE_KEY}
          SUPABASE_DB_URL:
            default: postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@postgresql:${DATABASE_PORT}/${DATABASE_NAME}
          # TODO: Allow configuring VERIFY_JWT per function. This PR might help: https://github.com/supabase/cli/pull/786
          VERIFY_JWT:
            default: "false"
          FUNCTIONS_HOST:
            default: ${CONTAINER_HOSTNAME}
            expose: true
            readonly: true
        command:
          - start
          - --main-service
          - /home/deno/functions/main

localization:
  zh-TW:
    description: ÈñãÊ∫êÁöÑ Firebase Êõø‰ª£ÊñπÊ°à„ÄÇÊàëÂÄë‰ΩøÁî®‰ºÅÊ•≠Á¥öÈñãÊ∫êÂ∑•ÂÖ∑‰æÜÂª∫Êßã Firebase ÁöÑÂäüËÉΩ„ÄÇ
    variables:
      - key: DASHBOARD_USERNAME
        type: STRING
        name: ÂÑÄË°®Êùø‰ΩøÁî®ËÄÖÂêçÁ®±
        description: ‰Ω†ÊÉ≥ÁÇ∫ Supabase ÂÑÄË°®ÊùøË®≠ÂÆö‰ªÄÈ∫º‰ΩøÁî®ËÄÖÂêçÁ®±Ôºü
      - key: PUBLIC_DOMAIN
        type: DOMAIN
        name: Á∂≤Âüü
        description: ‰Ω†ÊÉ≥ÁÇ∫ Supabase ‰ΩøÁî®‰ªÄÈ∫ºÁ∂≤ÂüüÔºü
    readme: |
      # Supabase Zeabur Ëá™Êû∂Áâà

      ÈÄôÊòØ Supabase Âú® Zeabur ‰∏äÁöÑËá™Êû∂ÁâàÁØÑ‰æã„ÄÇ
      ‰Ω†ÂèØ‰ª•‰ΩøÁî®ÈÄôÂÄãÊ®°ÊùøÂú® Zeabur ‰∏äÈÉ®ÁΩ≤ Supabase ÂØ¶‰æã„ÄÇ

      ## ÈñãÁôºÁãÄÊÖã

      > ‚ö†Ô∏è **Ê≠§Ê®°ÊùøÁõÆÂâçÊ≠£Âú®Á©çÊ•µÈñãÁôº‰∏≠„ÄÇ**
      > Êüê‰∫õÊúçÂãôÂèØËÉΩÂ∞öÊú™ÂÆåÂÖ®Ê≠£Â∏∏ÈÅã‰Ωú„ÄÇË©≥ÊÉÖË´ãÂèÉÈñ±‰∏ãÊñπÁãÄÊÖãË°®„ÄÇ

      | ÊúçÂãô | ÁãÄÊÖã | ÂÇôË®ª |
      |---------|--------|-------|
      | PostgreSQL | ‚úÖ Ê≠£Â∏∏ÈÅã‰Ωú | Ê†∏ÂøÉË≥áÊñôÂ∫´ÂÆåÂÖ®Ê≠£Â∏∏ |
      | Kong | ‚úÖ Ê≠£Â∏∏ÈÅã‰Ωú | API ÈñòÈÅìÈÅã‰Ωú‰∏≠ |
      | Studio | ‚úÖ Ê≠£Â∏∏ÈÅã‰Ωú | ÂÑÄË°®ÊùøÂèØÂ≠òÂèñ |
      | Auth | ‚úÖ Ê≠£Â∏∏ÈÅã‰Ωú | Ë∫´‰ªΩÈ©óË≠âÊµÅÁ®ãÈÅã‰Ωú‰∏≠ |
      | REST | ‚úÖ Ê≠£Â∏∏ÈÅã‰Ωú | PostgREST API Ê≠£Â∏∏ |
      | Meta | ‚úÖ Ê≠£Â∏∏ÈÅã‰Ωú | Ë≥áÊñôÂ∫´ÂÖÉÊï∏Êìö API ÈÅã‰Ωú‰∏≠ |
      | Vector | ‚úÖ Ê≠£Â∏∏ÈÅã‰Ωú | Êó•Ë™åÊî∂ÈõÜÈÅã‰Ωú‰∏≠ |
      | Analytics | ‚úÖ Ê≠£Â∏∏ÈÅã‰Ωú | Logflare Êï¥ÂêàÈÅã‰Ωú‰∏≠ |
      | JWT/Keys | ‚úÖ Ê≠£Â∏∏ÈÅã‰Ωú | ÊîØÊè¥Ëá™Ë®Ç JWT ÂØÜÈë∞ |
      | Realtime | ‚ö†Ô∏è Ê∏¨Ë©¶‰∏≠ | ÂèØËÉΩ‰∏çÁ©©ÂÆöÔºåÈúÄË¶ÅÊõ¥Â§öÊ∏¨Ë©¶ |
      | Storage | üöß ÈñãÁôº‰∏≠ | Â∞öÊú™ÂÆåÂÖ®Ê∏¨Ë©¶ |
      | Supavisor | üöß ÈñãÁôº‰∏≠ | ÈÄ£Á∑öÊ±†ÈúÄË¶ÅÊ∏¨Ë©¶ |
      | Functions | üöß Beta | ÈÇäÁ∑£ÂáΩÊï∏Â∞öÊú™ÂÆåÂÖ®Ê∏¨Ë©¶ |

      **Âúñ‰æãÔºö**
      - ‚úÖ Ê≠£Â∏∏ÈÅã‰Ωú - Â∑≤ÂÆåÂÖ®Ê∏¨Ë©¶‰∏îÂèØÈÅã‰Ωú
      - ‚ö†Ô∏è Ê∏¨Ë©¶‰∏≠ - ÂäüËÉΩÂèØÁî®‰ΩÜÂèØËÉΩÊúâÂïèÈ°å
      - üöß ÈñãÁôº‰∏≠ - Ê≠£Âú®ÈñãÁôº/Ê∏¨Ë©¶‰∏≠

      ## ÊúçÂãôÊ¶ÇË¶Ω

      ### Ê†∏ÂøÉÊúçÂãôÔºàÂøÖË¶ÅÔºâ

      1. **postgresql** - PostgreSQL Ë≥áÊñôÂ∫´
         - Supabase ÁöÑÊ†∏ÂøÉË≥áÊñôÂ∫´ÔºåÂÑ≤Â≠òÊâÄÊúâÊáâÁî®Á®ãÂºèË≥áÊñô
         - ‚ö†Ô∏è ÂøÖË¶Å - ÁÑ°Ê≥ïÁßªÈô§

      2. **kong** - API ÈñòÈÅì
         - Áµ±‰∏ÄÁöÑ API ÂÖ•Âè£ÔºåËôïÁêÜË∑ØÁî±„ÄÅË∫´‰ªΩÈ©óË≠âÂíåÈÄüÁéáÈôêÂà∂
         - ‚ö†Ô∏è ÂøÖË¶Å - ÁÑ°Ê≥ïÁßªÈô§

      3. **studio** - Supabase ÂÑÄË°®Êùø
         - Á∂≤È†ÅÁÆ°ÁêÜ‰ªãÈù¢ÔºåÁî®ÊñºÁÆ°ÁêÜË≥áÊñôÂ∫´„ÄÅË∫´‰ªΩÈ©óË≠â„ÄÅÂÑ≤Â≠òÁ≠â
         - ‚ö†Ô∏è ÂøÖË¶Å - Âº∑ÁÉàÂª∫Ë≠∞‰øùÁïô‰ª•‰æøÁÆ°ÁêÜ

      4. **auth** - GoTrue Ë∫´‰ªΩÈ©óË≠â
         - ËôïÁêÜ‰ΩøÁî®ËÄÖË®ªÂÜä„ÄÅÁôªÂÖ•„ÄÅOAuth ÂíåË∫´‰ªΩÈ©óË≠âÊµÅÁ®ã
         - ‚ö†Ô∏è ÂøÖË¶Å - Èô§Èùû‰ΩøÁî®Â§ñÈÉ®Ë∫´‰ªΩÈ©óË≠âÁ≥ªÁµ±

      5. **rest** - PostgREST API
         - Ëá™ÂãïÂ∞á PostgreSQL Ë≥áÊñôÂ∫´ËΩâÊèõÁÇ∫ RESTful API
         - ‚ö†Ô∏è ÂøÖË¶Å - ÁÑ°Ê≥ïÁßªÈô§

      6. **meta** - Postgres Meta API
         - Êèê‰æõË≥áÊñôÂ∫´ÂÖÉÊï∏Êìö APIÔºå‰æõ Studio ‰ΩøÁî®
         - ‚ö†Ô∏è ÂøÖË¶Å - Studio ‰æùË≥¥Ê≠§ÊúçÂãô

      ### ÂèØÈÅ∏ÊúçÂãô

      7. **vector** - Êó•Ë™åËÅöÂêà
         - Êî∂ÈõÜ‰∏¶ËΩâÁôºÊúçÂãôÊó•Ë™åÂà∞ Analytics
         - ‚úÖ ÂèØÈÅ∏ - Â¶Ç‰∏çÈúÄË¶ÅÊó•Ë™åÂàÜÊûêÂèØÁßªÈô§

      8. **analytics** - Logflare ÂàÜÊûê
         - Êó•Ë™åÂàÜÊûêÂíåÊü•Ë©¢ÊúçÂãô
         - ‚úÖ ÂèØÈÅ∏ - Â¶Ç‰∏çÈúÄË¶ÅÊó•Ë™åÂàÜÊûêÂèØÁßªÈô§Ôºà‰πüÈúÄÁßªÈô§ vectorÔºâ

      9. **storage** - Ê™îÊ°àÂÑ≤Â≠ò
         - Ê™îÊ°à‰∏äÂÇ≥„ÄÅÂÑ≤Â≠òÂíåÁÆ°ÁêÜÊúçÂãô
         - ‚úÖ ÂèØÈÅ∏ - Â¶Ç‰∏çÈúÄË¶ÅÊ™îÊ°àÂÑ≤Â≠òÂäüËÉΩÂèØÁßªÈô§
         - ‚ö†Ô∏è ÁãÄÊÖãÔºöÂ∞öÊú™ÂÆåÂÖ®Ê∏¨Ë©¶

      10. **imgproxy** - ÂúñÁâáËΩâÊèõ
          - ÂúñÁâáËΩâÊèõÂíåÂÑ™ÂåñÊúçÂãôÔºàÁî®Êñº StorageÔºâ
          - ‚úÖ ÂèØÈÅ∏ - Â¶ÇÁßªÈô§ storage ÂâáÂèØ‰∏Ä‰ΩµÁßªÈô§

      11. **realtime** - Âç≥ÊôÇË®ÇÈñ±
          - Êèê‰æõË≥áÊñôÂ∫´ËÆäÊõ¥ÁöÑÂç≥ÊôÇË®ÇÈñ±ÂäüËÉΩ
          - ‚úÖ ÂèØÈÅ∏ - Â¶Ç‰∏çÈúÄË¶ÅÂç≥ÊôÇÂäüËÉΩÂèØÁßªÈô§
          - ‚ö†Ô∏è ÁãÄÊÖãÔºöÂèØËÉΩ‰∏çÁ©©ÂÆö

      12. **functions** - ÈÇäÁ∑£ÂáΩÊï∏
          - Serverless ÂáΩÊï∏Âü∑Ë°åÁí∞Â¢ÉÔºàÈ°û‰ºº AWS LambdaÔºâ
          - ‚úÖ ÂèØÈÅ∏ - Â¶Ç‰∏çÈúÄË¶ÅÈÇäÁ∑£ÂáΩÊï∏ÂèØÁßªÈô§
          - ‚ö†Ô∏è ÁãÄÊÖãÔºöBeta ÈöéÊÆµÔºåÂ∞öÊú™ÂÆåÂÖ®Ê∏¨Ë©¶

      13. **supavisor** - ÈÄ£Á∑öÊ±†
          - PostgreSQL ÈÄ£Á∑öÊ±†ÁÆ°ÁêÜÂô®ÔºåÊèêÂçáË≥áÊñôÂ∫´ÈÄ£Á∑öÊïàËÉΩ
          - ‚úÖ ÂèØÈÅ∏ - Â∞èÂûãÂ∞àÊ°àÂèØÁßªÈô§
          - ‚ö†Ô∏è ÁãÄÊÖãÔºöÂ∞öÊú™ÂÆåÂÖ®Ê∏¨Ë©¶

      ## ÈñãÂßã‰ΩøÁî®

      ### Ë®™ÂïèÂÑÄË°®Êùø

      ÈÉ®ÁΩ≤ÂÆåÊàêÂæåÔºå‰Ω†ÁöÑ Supabase Studio ÂÑÄË°®ÊùøÂ∞áÂèØÂú®‰Ω†ÈÖçÁΩÆÁöÑÁ∂≤Âüü‰∏ä‰ΩøÁî®„ÄÇ

      **Êü•Ë©¢ÁôªÂÖ•ÊÜëË≠âÔºö**
      1. ÂâçÂæÄ Zeabur Â∞àÊ°à‰∏≠ÁöÑ **Kong ÊúçÂãô**
      2. ÈªûÊìä **InstructionsÔºàË™™ÊòéÔºâ** Ê®ôÁ±§
      3. ‰Ω†ÊúÉÁúãÂà∞Ôºö
         - **Supabase Username**Ôºö‰Ω†ÁöÑÂÑÄË°®Êùø‰ΩøÁî®ËÄÖÂêçÁ®±Ôºà‰æÜËá™ `DASHBOARD_USERNAME` ËÆäÊï∏Ôºâ
         - **Supabase Password**ÔºöËá™ÂãïÁîüÊàêÁöÑÂÆâÂÖ®ÂØÜÁ¢º

      ### ÈáçË¶ÅÂÆâÂÖ®ÂØÜÈë∞

      ‰ª•‰∏ãÂØÜÈë∞Âú® **Kong ÊúçÂãô** ÁöÑÁí∞Â¢ÉËÆäÊï∏‰∏≠ÂÖ¨ÈñãÔºö

      | ÂØÜÈë∞ | ‰ΩçÁΩÆ | Ë™™Êòé |
      |-----|----------|-------------|
      | `JWT_SECRET` | Kong ÊúçÂãô | Áî®ÊñºÁ∞ΩÁΩ≤ JWT ‰ª§ÁâåÁöÑÂØÜÈë∞ |
      | `ANON_KEY` | Kong ÊúçÂãô | ÂåøÂêçË®™ÂïèÁöÑÂÖ¨Èñã API ÂØÜÈë∞ |
      | `SERVICE_ROLE_KEY` | Kong ÊúçÂãô | ÂÖ∑ÊúâÂÆåÊï¥Ë®™ÂïèÊ¨äÈôêÁöÑÁÆ°ÁêÜÂì° API ÂØÜÈë∞ |

      **‚ö†Ô∏è ÈáçË¶Å**ÔºöÈ†êË®≠ÂØÜÈë∞ÂÉÖ‰æõÁ§∫ÁØÑ‰ΩøÁî®„ÄÇÂú®Ê≠£ÂºèÁí∞Â¢É‰ΩøÁî®ÂâçÔºå‰Ω†**ÂøÖÈ†à**ÁîüÊàêÊñ∞ÁöÑÂØÜÈë∞„ÄÇ

      **Â¶Ç‰ΩïÁîüÊàêÂÆâÂÖ®ÂØÜÈë∞Ôºö**
      1. Ë®™Âïè [Supabase JWT ÁîüÊàêÂô®](https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys)
      2. ‰ΩøÁî®‰Ω†ÁöÑËá™Ë®Ç `JWT_SECRET` ÁîüÊàêÊñ∞ÁöÑ `ANON_KEY` Âíå `SERVICE_ROLE_KEY`
      3. Âú® Kong ÊúçÂãô‰∏≠Êõ¥Êñ∞Áí∞Â¢ÉËÆäÊï∏
      4. ÈáçÂïüÊâÄÊúâÊúçÂãô‰ª•Â•óÁî®ËÆäÊõ¥Ôºö
         - ÈÄ≤ÂÖ•‰Ω†ÁöÑ **Â∞àÊ°à** ‚Üí **Ë®≠ÂÆö** ‚Üí **‰∏ÄËà¨Ë®≠ÂÆö**
         - Âêë‰∏ãÊç≤ÂãïÂà∞ **ÊâπÊ¨°Âãï‰Ωú**
         - ÈªûÊìä **ÂÖ®ÈÉ®ÈáçÂïü** ‰ª•ÈáçÂïüÊâÄÊúâÊúçÂãô

      ## ‰øùË≠∑‰Ω†ÁöÑÊúçÂãô

      ÈõñÁÑ∂ÊàëÂÄëÊèê‰æõ‰∫Ü‰∏Ä‰∫õÁØÑ‰æãÂØÜÈë∞‰ª•‰æøÂø´ÈÄüÈñãÂßãÔºå‰ΩÜ‰Ω†ÁµïÂ∞ç‰∏çÊáâË©≤‰ΩøÁî®ÊàëÂÄëÊèê‰æõÁöÑÈ†êË®≠ÂÄº‰æÜÈÉ®ÁΩ≤ Supabase„ÄÇË´ã‰æùÁÖßÊú¨ÁØÄ‰∏≠ÁöÑÊâÄÊúâÊ≠•È©üÁ¢∫‰øù‰Ω†ÊúâÂÆâÂÖ®ÁöÑË®≠ÂÆöÔºåÁÑ∂ÂæåÈáçÂïüÊâÄÊúâÊúçÂãô‰ª•Â•óÁî®ËÆäÊõ¥„ÄÇ

      [ÂÆòÊñπÊåáÂçó](https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys)

  zh-CN:
    description: ÂºÄÊ∫êÁöÑ Firebase Êõø‰ª£ÊñπÊ°à„ÄÇÊàë‰ª¨‰ΩøÁî®‰ºÅ‰∏öÁ∫ßÂºÄÊ∫êÂ∑•ÂÖ∑Êù•ÊûÑÂª∫ Firebase ÁöÑÂäüËÉΩ„ÄÇ
    variables:
      - key: DASHBOARD_USERNAME
        type: STRING
        name: ‰ª™Ë°®ÊùøÁî®Êà∑Âêç
        description: ‰Ω†ÊÉ≥‰∏∫ Supabase ‰ª™Ë°®ÊùøËÆæÁΩÆ‰ªÄ‰πàÁî®Êà∑ÂêçÔºü
      - key: PUBLIC_DOMAIN
        type: DOMAIN
        name: ÂüüÂêç
        description: ‰Ω†ÊÉ≥‰∏∫ Supabase ‰ΩøÁî®‰ªÄ‰πàÂüüÂêçÔºü
    readme: |
      # Supabase Zeabur Ëá™ÊâòÁÆ°Áâà

      ËøôÊòØ Supabase Âú® Zeabur ‰∏äÁöÑËá™ÊâòÁÆ°ÁâàÁ§∫‰æã„ÄÇ
      ‰Ω†ÂèØ‰ª•‰ΩøÁî®Ëøô‰∏™Ê®°ÊùøÂú® Zeabur ‰∏äÈÉ®ÁΩ≤ Supabase ÂÆû‰æã„ÄÇ

      ## ÂºÄÂèëÁä∂ÊÄÅ

      > ‚ö†Ô∏è **Ê≠§Ê®°ÊùøÁõÆÂâçÊ≠£Âú®ÁßØÊûÅÂºÄÂèë‰∏≠„ÄÇ**
      > Êüê‰∫õÊúçÂä°ÂèØËÉΩÂ∞öÊú™ÂÆåÂÖ®Ê≠£Â∏∏Ëøê‰Ωú„ÄÇËØ¶ÊÉÖËØ∑ÂèÇÈòÖ‰∏ãÊñπÁä∂ÊÄÅË°®„ÄÇ

      | ÊúçÂä° | Áä∂ÊÄÅ | Â§áÊ≥® |
      |---------|--------|-------|
      | PostgreSQL | ‚úÖ Ê≠£Â∏∏Ëøê‰Ωú | Ê†∏ÂøÉÊï∞ÊçÆÂ∫ìÂÆåÂÖ®Ê≠£Â∏∏ |
      | Kong | ‚úÖ Ê≠£Â∏∏Ëøê‰Ωú | API ÁΩëÂÖ≥Ëøê‰Ωú‰∏≠ |
      | Studio | ‚úÖ Ê≠£Â∏∏Ëøê‰Ωú | ‰ª™Ë°®ÊùøÂèØËÆøÈóÆ |
      | Auth | ‚úÖ Ê≠£Â∏∏Ëøê‰Ωú | Ë∫´‰ªΩÈ™åËØÅÊµÅÁ®ãËøê‰Ωú‰∏≠ |
      | REST | ‚úÖ Ê≠£Â∏∏Ëøê‰Ωú | PostgREST API Ê≠£Â∏∏ |
      | Meta | ‚úÖ Ê≠£Â∏∏Ëøê‰Ωú | Êï∞ÊçÆÂ∫ìÂÖÉÊï∞ÊçÆ API Ëøê‰Ωú‰∏≠ |
      | Vector | ‚úÖ Ê≠£Â∏∏Ëøê‰Ωú | Êó•ÂøóÊî∂ÈõÜËøê‰Ωú‰∏≠ |
      | Analytics | ‚úÖ Ê≠£Â∏∏Ëøê‰Ωú | Logflare ÈõÜÊàêËøê‰Ωú‰∏≠ |
      | JWT/Keys | ‚úÖ Ê≠£Â∏∏Ëøê‰Ωú | ÊîØÊåÅËá™ÂÆö‰πâ JWT ÂØÜÈí• |
      | Realtime | ‚ö†Ô∏è ÊµãËØï‰∏≠ | ÂèØËÉΩ‰∏çÁ®≥ÂÆöÔºåÈúÄË¶ÅÊõ¥Â§öÊµãËØï |
      | Storage | üöß ÂºÄÂèë‰∏≠ | Â∞öÊú™ÂÆåÂÖ®ÊµãËØï |
      | Supavisor | üöß ÂºÄÂèë‰∏≠ | ËøûÊé•Ê±†ÈúÄË¶ÅÊµãËØï |
      | Functions | üöß Beta | ËæπÁºòÂáΩÊï∞Â∞öÊú™ÂÆåÂÖ®ÊµãËØï |

      **Âõæ‰æãÔºö**
      - ‚úÖ Ê≠£Â∏∏Ëøê‰Ωú - Â∑≤ÂÆåÂÖ®ÊµãËØï‰∏îÂèØËøê‰Ωú
      - ‚ö†Ô∏è ÊµãËØï‰∏≠ - ÂäüËÉΩÂèØÁî®‰ΩÜÂèØËÉΩÊúâÈóÆÈ¢ò
      - üöß ÂºÄÂèë‰∏≠ - Ê≠£Âú®ÂºÄÂèë/ÊµãËØï‰∏≠

      ## ÊúçÂä°Ê¶ÇËßà

      ### Ê†∏ÂøÉÊúçÂä°ÔºàÂøÖË¶ÅÔºâ

      1. **postgresql** - PostgreSQL Êï∞ÊçÆÂ∫ì
         - Supabase ÁöÑÊ†∏ÂøÉÊï∞ÊçÆÂ∫ìÔºåÂ≠òÂÇ®ÊâÄÊúâÂ∫îÁî®Á®ãÂ∫èÊï∞ÊçÆ
         - ‚ö†Ô∏è ÂøÖË¶Å - Êó†Ê≥ïÁßªÈô§

      2. **kong** - API ÁΩëÂÖ≥
         - Áªü‰∏ÄÁöÑ API ÂÖ•Âè£ÔºåÂ§ÑÁêÜË∑ØÁî±„ÄÅË∫´‰ªΩÈ™åËØÅÂíåÈÄüÁéáÈôêÂà∂
         - ‚ö†Ô∏è ÂøÖË¶Å - Êó†Ê≥ïÁßªÈô§

      3. **studio** - Supabase ‰ª™Ë°®Êùø
         - ÁΩëÈ°µÁÆ°ÁêÜÁïåÈù¢ÔºåÁî®‰∫éÁÆ°ÁêÜÊï∞ÊçÆÂ∫ì„ÄÅË∫´‰ªΩÈ™åËØÅ„ÄÅÂ≠òÂÇ®Á≠â
         - ‚ö†Ô∏è ÂøÖË¶Å - Âº∫ÁÉàÂª∫ËÆÆ‰øùÁïô‰ª•‰æøÁÆ°ÁêÜ

      4. **auth** - GoTrue Ë∫´‰ªΩÈ™åËØÅ
         - Â§ÑÁêÜÁî®Êà∑Ê≥®ÂÜå„ÄÅÁôªÂΩï„ÄÅOAuth ÂíåË∫´‰ªΩÈ™åËØÅÊµÅÁ®ã
         - ‚ö†Ô∏è ÂøÖË¶Å - Èô§Èùû‰ΩøÁî®Â§ñÈÉ®Ë∫´‰ªΩÈ™åËØÅÁ≥ªÁªü

      5. **rest** - PostgREST API
         - Ëá™Âä®Â∞Ü PostgreSQL Êï∞ÊçÆÂ∫ìËΩ¨Êç¢‰∏∫ RESTful API
         - ‚ö†Ô∏è ÂøÖË¶Å - Êó†Ê≥ïÁßªÈô§

      6. **meta** - Postgres Meta API
         - Êèê‰æõÊï∞ÊçÆÂ∫ìÂÖÉÊï∞ÊçÆ APIÔºå‰æõ Studio ‰ΩøÁî®
         - ‚ö†Ô∏è ÂøÖË¶Å - Studio ‰æùËµñÊ≠§ÊúçÂä°

      ### ÂèØÈÄâÊúçÂä°

      7. **vector** - Êó•ÂøóËÅöÂêà
         - Êî∂ÈõÜÂπ∂ËΩ¨ÂèëÊúçÂä°Êó•ÂøóÂà∞ Analytics
         - ‚úÖ ÂèØÈÄâ - Â¶Ç‰∏çÈúÄË¶ÅÊó•ÂøóÂàÜÊûêÂèØÁßªÈô§

      8. **analytics** - Logflare ÂàÜÊûê
         - Êó•ÂøóÂàÜÊûêÂíåÊü•ËØ¢ÊúçÂä°
         - ‚úÖ ÂèØÈÄâ - Â¶Ç‰∏çÈúÄË¶ÅÊó•ÂøóÂàÜÊûêÂèØÁßªÈô§Ôºà‰πüÈúÄÁßªÈô§ vectorÔºâ

      9. **storage** - Êñá‰ª∂Â≠òÂÇ®
         - Êñá‰ª∂‰∏ä‰º†„ÄÅÂ≠òÂÇ®ÂíåÁÆ°ÁêÜÊúçÂä°
         - ‚úÖ ÂèØÈÄâ - Â¶Ç‰∏çÈúÄË¶ÅÊñá‰ª∂Â≠òÂÇ®ÂäüËÉΩÂèØÁßªÈô§
         - ‚ö†Ô∏è Áä∂ÊÄÅÔºöÂ∞öÊú™ÂÆåÂÖ®ÊµãËØï

      10. **imgproxy** - ÂõæÁâáËΩ¨Êç¢
          - ÂõæÁâáËΩ¨Êç¢Âíå‰ºòÂåñÊúçÂä°ÔºàÁî®‰∫é StorageÔºâ
          - ‚úÖ ÂèØÈÄâ - Â¶ÇÁßªÈô§ storage ÂàôÂèØ‰∏ÄÂπ∂ÁßªÈô§

      11. **realtime** - ÂÆûÊó∂ËÆ¢ÈòÖ
          - Êèê‰æõÊï∞ÊçÆÂ∫ìÂèòÊõ¥ÁöÑÂÆûÊó∂ËÆ¢ÈòÖÂäüËÉΩ
          - ‚úÖ ÂèØÈÄâ - Â¶Ç‰∏çÈúÄË¶ÅÂÆûÊó∂ÂäüËÉΩÂèØÁßªÈô§
          - ‚ö†Ô∏è Áä∂ÊÄÅÔºöÂèØËÉΩ‰∏çÁ®≥ÂÆö

      12. **functions** - ËæπÁºòÂáΩÊï∞
          - Serverless ÂáΩÊï∞ÊâßË°åÁéØÂ¢ÉÔºàÁ±ª‰ºº AWS LambdaÔºâ
          - ‚úÖ ÂèØÈÄâ - Â¶Ç‰∏çÈúÄË¶ÅËæπÁºòÂáΩÊï∞ÂèØÁßªÈô§
          - ‚ö†Ô∏è Áä∂ÊÄÅÔºöBeta Èò∂ÊÆµÔºåÂ∞öÊú™ÂÆåÂÖ®ÊµãËØï

      13. **supavisor** - ËøûÊé•Ê±†
          - PostgreSQL ËøûÊé•Ê±†ÁÆ°ÁêÜÂô®ÔºåÊèêÂçáÊï∞ÊçÆÂ∫ìËøûÊé•ÊÄßËÉΩ
          - ‚úÖ ÂèØÈÄâ - Â∞èÂûãÈ°πÁõÆÂèØÁßªÈô§
          - ‚ö†Ô∏è Áä∂ÊÄÅÔºöÂ∞öÊú™ÂÆåÂÖ®ÊµãËØï

      ## ÂºÄÂßã‰ΩøÁî®

      ### ËÆøÈóÆ‰ª™Ë°®Êùø

      ÈÉ®ÁΩ≤ÂÆåÊàêÂêéÔºå‰Ω†ÁöÑ Supabase Studio ‰ª™Ë°®ÊùøÂ∞ÜÂèØÂú®‰Ω†ÈÖçÁΩÆÁöÑÂüüÂêç‰∏ä‰ΩøÁî®„ÄÇ

      **Êü•ËØ¢ÁôªÂΩïÂá≠ËØÅÔºö**
      1. ÂâçÂæÄ Zeabur È°πÁõÆ‰∏≠ÁöÑ **Kong ÊúçÂä°**
      2. ÁÇπÂáª **InstructionsÔºàËØ¥ÊòéÔºâ** Ê†áÁ≠æ
      3. ‰Ω†‰ºöÁúãÂà∞Ôºö
         - **Supabase Username**Ôºö‰Ω†ÁöÑ‰ª™Ë°®ÊùøÁî®Êà∑ÂêçÔºàÊù•Ëá™ `DASHBOARD_USERNAME` ÂèòÈáèÔºâ
         - **Supabase Password**ÔºöËá™Âä®ÁîüÊàêÁöÑÂÆâÂÖ®ÂØÜÁ†Å

      ### ÈáçË¶ÅÂÆâÂÖ®ÂØÜÈí•

      ‰ª•‰∏ãÂØÜÈí•Âú® **Kong ÊúçÂä°** ÁöÑÁéØÂ¢ÉÂèòÈáè‰∏≠ÂÖ¨ÂºÄÔºö

      | ÂØÜÈí• | ‰ΩçÁΩÆ | ËØ¥Êòé |
      |-----|----------|-------------|
      | `JWT_SECRET` | Kong ÊúçÂä° | Áî®‰∫éÁ≠æÁΩ≤ JWT ‰ª§ÁâåÁöÑÂØÜÈí• |
      | `ANON_KEY` | Kong ÊúçÂä° | ÂåøÂêçËÆøÈóÆÁöÑÂÖ¨ÂºÄ API ÂØÜÈí• |
      | `SERVICE_ROLE_KEY` | Kong ÊúçÂä° | ÂÖ∑ÊúâÂÆåÊï¥ËÆøÈóÆÊùÉÈôêÁöÑÁÆ°ÁêÜÂëò API ÂØÜÈí• |

      **‚ö†Ô∏è ÈáçË¶Å**ÔºöÈªòËÆ§ÂØÜÈí•‰ªÖ‰æõÊºîÁ§∫‰ΩøÁî®„ÄÇÂú®Ê≠£ÂºèÁéØÂ¢É‰ΩøÁî®ÂâçÔºå‰Ω†**ÂøÖÈ°ª**ÁîüÊàêÊñ∞ÁöÑÂØÜÈí•„ÄÇ

      **Â¶Ç‰ΩïÁîüÊàêÂÆâÂÖ®ÂØÜÈí•Ôºö**
      1. ËÆøÈóÆ [Supabase JWT ÁîüÊàêÂô®](https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys)
      2. ‰ΩøÁî®‰Ω†ÁöÑËá™ÂÆö‰πâ `JWT_SECRET` ÁîüÊàêÊñ∞ÁöÑ `ANON_KEY` Âíå `SERVICE_ROLE_KEY`
      3. Âú® Kong ÊúçÂä°‰∏≠Êõ¥Êñ∞ÁéØÂ¢ÉÂèòÈáè
      4. ÈáçÂêØÊâÄÊúâÊúçÂä°‰ª•Â∫îÁî®Êõ¥ÊîπÔºö
         - ËøõÂÖ•‰Ω†ÁöÑ **È°πÁõÆ** ‚Üí **ËÆæÁΩÆ** ‚Üí **Â∏∏ËßÑËÆæÁΩÆ**
         - Âêë‰∏ãÊªöÂä®Âà∞ **ÊâπÈáèÊìç‰Ωú**
         - ÁÇπÂáª **ÂÖ®ÈÉ®ÈáçÂêØ** ‰ª•ÈáçÂêØÊâÄÊúâÊúçÂä°

      ## ‰øùÊä§‰Ω†ÁöÑÊúçÂä°

      ËôΩÁÑ∂Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∫õÁ§∫‰æãÂØÜÈí•‰ª•‰æøÂø´ÈÄüÂºÄÂßãÔºå‰ΩÜ‰Ω†ÁªùÂØπ‰∏çÂ∫îËØ•‰ΩøÁî®Êàë‰ª¨Êèê‰æõÁöÑÈªòËÆ§ÂÄºÊù•ÈÉ®ÁΩ≤ Supabase„ÄÇËØ∑‰æùÁÖßÊú¨ËäÇ‰∏≠ÁöÑÊâÄÊúâÊ≠•È™§Á°Æ‰øù‰Ω†ÊúâÂÆâÂÖ®ÁöÑËÆæÁΩÆÔºåÁÑ∂ÂêéÈáçÂêØÊâÄÊúâÊúçÂä°‰ª•Â∫îÁî®Êõ¥Êîπ„ÄÇ

      [ÂÆòÊñπÊåáÂçó](https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys)

  ja-JP:
    description: „Ç™„Éº„Éó„É≥„ÇΩ„Éº„Çπ„ÅÆFirebase‰ª£Êõø„ÄÇ„Ç®„É≥„Çø„Éº„Éó„É©„Ç§„Ç∫„Ç∞„É¨„Éº„Éâ„ÅÆ„Ç™„Éº„Éó„É≥„ÇΩ„Éº„Çπ„ÉÑ„Éº„É´„Çí‰ΩøÁî®„Åó„Å¶Firebase„ÅÆÊ©üËÉΩ„ÇíÊßãÁØâ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
    variables:
      - key: DASHBOARD_USERNAME
        type: STRING
        name: „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„É¶„Éº„Ç∂„ÉºÂêç
        description: Supabase„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Å´‰ΩøÁî®„Åô„Çã„É¶„Éº„Ç∂„ÉºÂêç„ÅØ‰Ωï„Åß„Åô„ÅãÔºü
      - key: PUBLIC_DOMAIN
        type: DOMAIN
        name: „Éâ„É°„Ç§„É≥
        description: Supabase„Å´‰ΩøÁî®„Åô„Çã„Éâ„É°„Ç§„É≥„ÅØ‰Ωï„Åß„Åô„ÅãÔºü
    readme: |
      # Supabase Zeabur „Çª„É´„Éï„Éõ„Çπ„ÉÜ„Ç£„É≥„Ç∞Áâà

      „Åì„Çå„ÅØZeabur‰∏ä„Åß„ÅÆSupabase„Çª„É´„Éï„Éõ„Çπ„ÉÜ„Ç£„É≥„Ç∞Áâà„ÅÆ„Éá„É¢„Åß„Åô„ÄÇ
      „Åì„ÅÆ„ÉÜ„É≥„Éó„É¨„Éº„Éà„Çí‰ΩøÁî®„Åó„Å¶Zeabur‰∏ä„Å´Supabase„Ç§„É≥„Çπ„Çø„É≥„Çπ„Çí„Éá„Éó„É≠„Ç§„Åß„Åç„Åæ„Åô„ÄÇ

      ## ÈñãÁô∫Áä∂Ê≥Å

      > ‚ö†Ô∏è **„Åì„ÅÆ„ÉÜ„É≥„Éó„É¨„Éº„Éà„ÅØÁèæÂú®Á©çÊ•µÁöÑ„Å´ÈñãÁô∫‰∏≠„Åß„Åô„ÄÇ**
      > ‰∏ÄÈÉ®„ÅÆ„Çµ„Éº„Éì„Çπ„ÅØ„Åæ„Å†ÂÆåÂÖ®„Å´Ê©üËÉΩ„Åó„Å¶„ÅÑ„Å™„ÅÑÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇË©≥Á¥∞„ÅØ‰ª•‰∏ã„ÅÆ„Çπ„ÉÜ„Éº„Çø„Çπ„ÉÜ„Éº„Éñ„É´„Çí„ÅîË¶ß„Åè„Å†„Åï„ÅÑ„ÄÇ

      | „Çµ„Éº„Éì„Çπ | „Çπ„ÉÜ„Éº„Çø„Çπ | ÂÇôËÄÉ |
      |---------|--------|-------|
      | PostgreSQL | ‚úÖ Âãï‰Ωú‰∏≠ | „Ç≥„Ç¢„Éá„Éº„Çø„Éô„Éº„Çπ„ÅØÂÆåÂÖ®„Å´Ê©üËÉΩ |
      | Kong | ‚úÖ Âãï‰Ωú‰∏≠ | API„Ç≤„Éº„Éà„Ç¶„Çß„Ç§„ÅåÂãï‰Ωú‰∏≠ |
      | Studio | ‚úÖ Âãï‰Ωú‰∏≠ | „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Å´„Ç¢„ÇØ„Çª„ÇπÂèØËÉΩ |
      | Auth | ‚úÖ Âãï‰Ωú‰∏≠ | Ë™çË®º„Éï„É≠„Éº„ÅåÂãï‰Ωú‰∏≠ |
      | REST | ‚úÖ Âãï‰Ωú‰∏≠ | PostgREST API„ÅåÊ©üËÉΩ |
      | Meta | ‚úÖ Âãï‰Ωú‰∏≠ | „Éá„Éº„Çø„Éô„Éº„Çπ„É°„Çø„Éá„Éº„ÇøAPI„ÅåÂãï‰Ωú‰∏≠ |
      | Vector | ‚úÖ Âãï‰Ωú‰∏≠ | „É≠„Ç∞ÂèéÈõÜ„ÅåÂãï‰Ωú‰∏≠ |
      | Analytics | ‚úÖ Âãï‰Ωú‰∏≠ | LogflareÁµ±Âêà„ÅåÂãï‰Ωú‰∏≠ |
      | JWT/Keys | ‚úÖ Âãï‰Ωú‰∏≠ | „Ç´„Çπ„Çø„É†JWT„Ç∑„Éº„ÇØ„É¨„ÉÉ„Éà„Çí„Çµ„Éù„Éº„Éà |
      | Realtime | ‚ö†Ô∏è „ÉÜ„Çπ„Éà‰∏≠ | ‰∏çÂÆâÂÆö„Å™ÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„ÄÅ„Åï„Çâ„Å™„Çã„ÉÜ„Çπ„Éà„ÅåÂøÖË¶Å |
      | Storage | üöß ÈñãÁô∫‰∏≠ | „Åæ„Å†ÂÆåÂÖ®„Å´„ÉÜ„Çπ„Éà„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì |
      | Supavisor | üöß ÈñãÁô∫‰∏≠ | „Ç≥„Éç„ÇØ„Ç∑„Éß„É≥„Éó„Éº„É©„Éº„ÅÆ„ÉÜ„Çπ„Éà„ÅåÂøÖË¶Å |
      | Functions | üöß Beta | „Ç®„ÉÉ„Ç∏Èñ¢Êï∞„ÅØ„Åæ„Å†ÂÆåÂÖ®„Å´„ÉÜ„Çπ„Éà„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì |

      **Âá°‰æãÔºö**
      - ‚úÖ Âãï‰Ωú‰∏≠ - ÂÆåÂÖ®„Å´„ÉÜ„Çπ„ÉàÊ∏à„Åø„ÅßÂãï‰Ωú
      - ‚ö†Ô∏è „ÉÜ„Çπ„Éà‰∏≠ - Ê©üËÉΩ„Åó„Å¶„ÅÑ„Çã„ÅåÂïèÈ°å„Åå„ÅÇ„ÇãÂèØËÉΩÊÄß
      - üöß ÈñãÁô∫‰∏≠ - ÈñãÁô∫/„ÉÜ„Çπ„Éà‰∏≠

      ## „Çµ„Éº„Éì„ÇπÊ¶ÇË¶Å

      ### „Ç≥„Ç¢„Çµ„Éº„Éì„ÇπÔºàÂøÖÈ†àÔºâ

      1. **postgresql** - PostgreSQL„Éá„Éº„Çø„Éô„Éº„Çπ
         - Supabase„ÅÆ„Ç≥„Ç¢„Éá„Éº„Çø„Éô„Éº„Çπ„ÄÅ„Åô„Åπ„Å¶„ÅÆ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Éá„Éº„Çø„Çí‰øùÂ≠ò
         - ‚ö†Ô∏è ÂøÖÈ†à - ÂâäÈô§‰∏çÂèØ

      2. **kong** - API„Ç≤„Éº„Éà„Ç¶„Çß„Ç§
         - Áµ±‰∏Ä„Åï„Çå„ÅüAPI„Ç®„É≥„Éà„É™„Éº„Éù„Ç§„É≥„Éà„ÄÅ„É´„Éº„ÉÜ„Ç£„É≥„Ç∞„ÄÅË™çË®º„ÄÅ„É¨„Éº„ÉàÂà∂Èôê„ÇíÂá¶ÁêÜ
         - ‚ö†Ô∏è ÂøÖÈ†à - ÂâäÈô§‰∏çÂèØ

      3. **studio** - Supabase„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ
         - „Éá„Éº„Çø„Éô„Éº„Çπ„ÄÅË™çË®º„ÄÅ„Çπ„Éà„É¨„Éº„Ç∏„Å™„Å©„ÇíÁÆ°ÁêÜ„Åô„Çã„Åü„ÇÅ„ÅÆWebÁÆ°ÁêÜ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ
         - ‚ö†Ô∏è ÂøÖÈ†à - ÁÆ°ÁêÜ„ÅÆ„Åü„ÇÅ„Å´Á∂≠ÊåÅ„Åô„Çã„Åì„Å®„ÇíÂº∑„ÅèÊé®Â•®

      4. **auth** - GoTrueË™çË®º
         - „É¶„Éº„Ç∂„ÉºÁôªÈå≤„ÄÅ„É≠„Ç∞„Ç§„É≥„ÄÅOAuth„ÄÅË™çË®º„Éï„É≠„Éº„ÇíÂá¶ÁêÜ
         - ‚ö†Ô∏è ÂøÖÈ†à - Â§ñÈÉ®Ë™çË®º„Ç∑„Çπ„ÉÜ„É†„Çí‰ΩøÁî®„Åó„Å™„ÅÑÈôê„Çä

      5. **rest** - PostgREST API
         - PostgreSQL„Éá„Éº„Çø„Éô„Éº„Çπ„ÇíËá™ÂãïÁöÑ„Å´RESTful API„Å´Â§âÊèõ
         - ‚ö†Ô∏è ÂøÖÈ†à - ÂâäÈô§‰∏çÂèØ

      6. **meta** - Postgres Meta API
         - Studio„Åß‰ΩøÁî®„Åï„Çå„Çã„Éá„Éº„Çø„Éô„Éº„Çπ„É°„Çø„Éá„Éº„ÇøAPI„ÇíÊèê‰æõ
         - ‚ö†Ô∏è ÂøÖÈ†à - Studio„Åå‰æùÂ≠ò

      ### „Ç™„Éó„Ç∑„Éß„Éä„É´„Çµ„Éº„Éì„Çπ

      7. **vector** - „É≠„Ç∞ÈõÜÁ¥Ñ
         - „Çµ„Éº„Éì„Çπ„É≠„Ç∞„ÇíÂèéÈõÜ„Åó„Å¶Analytics„Å´Ëª¢ÈÄÅ
         - ‚úÖ „Ç™„Éó„Ç∑„Éß„É≥ - „É≠„Ç∞ÂàÜÊûê„Åå‰∏çË¶Å„Å™Â†¥Âêà„ÅØÂâäÈô§ÂèØËÉΩ

      8. **analytics** - LogflareÂàÜÊûê
         - „É≠„Ç∞ÂàÜÊûê„Å®„ÇØ„Ç®„É™„Çµ„Éº„Éì„Çπ
         - ‚úÖ „Ç™„Éó„Ç∑„Éß„É≥ - „É≠„Ç∞ÂàÜÊûê„Åå‰∏çË¶Å„Å™Â†¥Âêà„ÅØÂâäÈô§ÂèØËÉΩÔºàvector„ÇÇÂâäÈô§Ôºâ

      9. **storage** - „Éï„Ç°„Ç§„É´„Çπ„Éà„É¨„Éº„Ç∏
         - „Éï„Ç°„Ç§„É´„ÅÆ„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„ÄÅ‰øùÂ≠ò„ÄÅÁÆ°ÁêÜ„Çµ„Éº„Éì„Çπ
         - ‚úÖ „Ç™„Éó„Ç∑„Éß„É≥ - „Éï„Ç°„Ç§„É´„Çπ„Éà„É¨„Éº„Ç∏„Åå‰∏çË¶Å„Å™Â†¥Âêà„ÅØÂâäÈô§ÂèØËÉΩ
         - ‚ö†Ô∏è „Çπ„ÉÜ„Éº„Çø„ÇπÔºö„Åæ„Å†ÂÆåÂÖ®„Å´„ÉÜ„Çπ„Éà„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì

      10. **imgproxy** - ÁîªÂÉèÂ§âÊèõ
          - ÁîªÂÉèÂ§âÊèõ„Å®ÊúÄÈÅ©Âåñ„Çµ„Éº„Éì„ÇπÔºàStorage„Åß‰ΩøÁî®Ôºâ
          - ‚úÖ „Ç™„Éó„Ç∑„Éß„É≥ - storage„ÇíÂâäÈô§„Åô„ÇãÂ†¥Âêà„ÅØ‰∏ÄÁ∑í„Å´ÂâäÈô§ÂèØËÉΩ

      11. **realtime** - „É™„Ç¢„É´„Çø„Ç§„É†„Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥
          - „Éá„Éº„Çø„Éô„Éº„ÇπÂ§âÊõ¥„ÅÆ„É™„Ç¢„É´„Çø„Ç§„É†„Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥Ê©üËÉΩ„ÇíÊèê‰æõ
          - ‚úÖ „Ç™„Éó„Ç∑„Éß„É≥ - „É™„Ç¢„É´„Çø„Ç§„É†Ê©üËÉΩ„Åå‰∏çË¶Å„Å™Â†¥Âêà„ÅØÂâäÈô§ÂèØËÉΩ
          - ‚ö†Ô∏è „Çπ„ÉÜ„Éº„Çø„ÇπÔºö‰∏çÂÆâÂÆö„Å™ÂèØËÉΩÊÄß

      12. **functions** - „Ç®„ÉÉ„Ç∏Èñ¢Êï∞
          - „Çµ„Éº„Éê„Éº„É¨„ÇπÈñ¢Êï∞ÂÆüË°åÁí∞Â¢ÉÔºàAWS Lambda„Å´È°û‰ººÔºâ
          - ‚úÖ „Ç™„Éó„Ç∑„Éß„É≥ - „Ç®„ÉÉ„Ç∏Èñ¢Êï∞„Åå‰∏çË¶Å„Å™Â†¥Âêà„ÅØÂâäÈô§ÂèØËÉΩ
          - ‚ö†Ô∏è „Çπ„ÉÜ„Éº„Çø„ÇπÔºö„Éô„Éº„ÇøÊÆµÈöé„ÄÅ„Åæ„Å†ÂÆåÂÖ®„Å´„ÉÜ„Çπ„Éà„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì

      13. **supavisor** - „Ç≥„Éç„ÇØ„Ç∑„Éß„É≥„Éó„Éº„É©„Éº
          - PostgreSQL„Ç≥„Éç„ÇØ„Ç∑„Éß„É≥„Éó„Éº„É´„Éû„Éç„Éº„Ç∏„É£„Éº„ÄÅ„Éá„Éº„Çø„Éô„Éº„ÇπÊé•Á∂ö„ÅÆ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÇíÂêë‰∏ä
          - ‚úÖ „Ç™„Éó„Ç∑„Éß„É≥ - Â∞èË¶èÊ®°„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Åß„ÅØÂâäÈô§ÂèØËÉΩ
          - ‚ö†Ô∏è „Çπ„ÉÜ„Éº„Çø„ÇπÔºö„Åæ„Å†ÂÆåÂÖ®„Å´„ÉÜ„Çπ„Éà„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì

      ## „ÅØ„Åò„ÇÅ„Å´

      ### „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Å∏„ÅÆ„Ç¢„ÇØ„Çª„Çπ

      „Éá„Éó„É≠„Ç§Âæå„ÄÅË®≠ÂÆö„Åó„Åü„Éâ„É°„Ç§„É≥„ÅßSupabase Studio„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„ÅåÂà©Áî®ÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô„ÄÇ

      **Ë™çË®ºÊÉÖÂ†±„ÅÆÁ¢∫Ë™çÔºö**
      1. Zeabur„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆ **Kong„Çµ„Éº„Éì„Çπ** „Å´ÁßªÂãï
      2. **InstructionsÔºàÊâãÈ†ÜÔºâ** „Çø„Éñ„Çí„ÇØ„É™„ÉÉ„ÇØ
      3. ‰ª•‰∏ã„ÅåË°®Á§∫„Åï„Çå„Åæ„ÅôÔºö
         - **Supabase Username**Ôºö„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„ÅÆ„É¶„Éº„Ç∂„ÉºÂêçÔºà`DASHBOARD_USERNAME`Â§âÊï∞„Åã„ÇâÔºâ
         - **Supabase Password**ÔºöËá™ÂãïÁîüÊàê„Åï„Çå„ÅüÂÆâÂÖ®„Å™„Éë„Çπ„ÉØ„Éº„Éâ

      ### ÈáçË¶Å„Å™„Çª„Ç≠„É•„É™„ÉÜ„Ç£„Ç≠„Éº

      ‰ª•‰∏ã„ÅÆ„Ç≠„Éº„ÅØ **Kong„Çµ„Éº„Éì„Çπ** „ÅÆÁí∞Â¢ÉÂ§âÊï∞„ÅßÂÖ¨Èñã„Åï„Çå„Å¶„ÅÑ„Åæ„ÅôÔºö

      | „Ç≠„Éº | Â†¥ÊâÄ | Ë™¨Êòé |
      |-----|----------|-------------|
      | `JWT_SECRET` | Kong„Çµ„Éº„Éì„Çπ | JWT„Éà„Éº„ÇØ„É≥„ÅÆÁΩ≤ÂêçÁî®„Ç∑„Éº„ÇØ„É¨„ÉÉ„Éà |
      | `ANON_KEY` | Kong„Çµ„Éº„Éì„Çπ | ÂåøÂêç„Ç¢„ÇØ„Çª„ÇπÁî®„ÅÆ„Éë„Éñ„É™„ÉÉ„ÇØAPI„Ç≠„Éº |
      | `SERVICE_ROLE_KEY` | Kong„Çµ„Éº„Éì„Çπ | „Éï„É´„Ç¢„ÇØ„Çª„ÇπÊ®©Èôê„ÇíÊåÅ„Å§ÁÆ°ÁêÜËÄÖAPI„Ç≠„Éº |

      **‚ö†Ô∏è ÈáçË¶Å**Ôºö„Éá„Éï„Ç©„É´„Éà„ÅÆ„Ç≠„Éº„ÅØ„Éá„É¢Áî®„Åß„Åô„ÄÇÊú¨Áï™Áí∞Â¢É„Åß‰ΩøÁî®„Åô„ÇãÂâç„Å´„ÄÅÊñ∞„Åó„ÅÑ„Ç≠„Éº„ÇíÁîüÊàê**„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô**„ÄÇ

      **ÂÆâÂÖ®„Å™„Ç≠„Éº„ÅÆÁîüÊàêÊñπÊ≥ïÔºö**
      1. [Supabase JWT„Ç∏„Çß„Éç„É¨„Éº„Çø„Éº](https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys)„Å´„Ç¢„ÇØ„Çª„Çπ
      2. „Ç´„Çπ„Çø„É†„ÅÆ`JWT_SECRET`„Çí‰ΩøÁî®„Åó„Å¶Êñ∞„Åó„ÅÑ`ANON_KEY`„Å®`SERVICE_ROLE_KEY`„ÇíÁîüÊàê
      3. Kong„Çµ„Éº„Éì„Çπ„ÅßÁí∞Â¢ÉÂ§âÊï∞„ÇíÊõ¥Êñ∞
      4. „Åô„Åπ„Å¶„ÅÆ„Çµ„Éº„Éì„Çπ„ÇíÂÜçËµ∑Âãï„Åó„Å¶Â§âÊõ¥„ÇíÈÅ©Áî®Ôºö
         - **„Éó„É≠„Ç∏„Çß„ÇØ„Éà** ‚Üí **Ë®≠ÂÆö** ‚Üí **‰∏ÄËà¨** „Å´ÁßªÂãï
         - **„Éê„ÉÉ„ÉÅ„Ç¢„ÇØ„Ç∑„Éß„É≥** „Åæ„Åß„Çπ„ÇØ„É≠„Éº„É´
         - **„Åô„Åπ„Å¶ÂÜçËµ∑Âãï** „Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Åô„Åπ„Å¶„ÅÆ„Çµ„Éº„Éì„Çπ„ÇíÂÜçËµ∑Âãï

      ## „Çµ„Éº„Éì„Çπ„ÅÆ‰øùË≠∑

      ÈñãÂßã„Åô„Çã„Åü„ÇÅ„Å´„ÅÑ„Åè„Å§„Åã„ÅÆ„Çµ„É≥„Éó„É´„Ç∑„Éº„ÇØ„É¨„ÉÉ„Éà„ÇíÊèê‰æõ„Åó„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅÊèê‰æõ„Åï„Çå„Å¶„ÅÑ„Çã„Éá„Éï„Ç©„É´„Éà„Çí‰ΩøÁî®„Åó„Å¶Supabase„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Çí„Éá„Éó„É≠„Ç§„Åó„Å¶„ÅØ„ÅÑ„Åë„Åæ„Åõ„Çì„ÄÇ„Åì„ÅÆ„Çª„ÇØ„Ç∑„Éß„É≥„ÅÆ„Åô„Åπ„Å¶„ÅÆÊâãÈ†Ü„Å´Âæì„Å£„Å¶ÂÆâÂÖ®„Å™„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„ÇíÁ¢∫‰øù„Åó„ÄÅ„Åô„Åπ„Å¶„ÅÆ„Çµ„Éº„Éì„Çπ„ÇíÂÜçËµ∑Âãï„Åó„Å¶Â§âÊõ¥„ÇíÈÅ©Áî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

      [ÂÖ¨Âºè„Ç¨„Ç§„Éâ](https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys)

  es-ES:
    description: Una alternativa de c√≥digo abierto a Firebase. Estamos construyendo las caracter√≠sticas de Firebase utilizando herramientas de c√≥digo abierto de nivel empresarial.
    variables:
      - key: DASHBOARD_USERNAME
        type: STRING
        name: Nombre de usuario del panel
        description: ¬øQu√© nombre de usuario deseas para tu panel de Supabase?
      - key: PUBLIC_DOMAIN
        type: DOMAIN
        name: Dominio
        description: ¬øQu√© dominio deseas para tu Supabase?
    readme: |
      # Supabase Auto-alojado en Zeabur

      Esta es una demostraci√≥n de Supabase auto-alojado en Zeabur.
      Puedes usar esta plantilla para desplegar una instancia de Supabase en Zeabur.

      ## Estado de Desarrollo

      > ‚ö†Ô∏è **Esta plantilla est√° actualmente en desarrollo activo.**
      > Algunos servicios pueden no estar completamente funcionales todav√≠a. Consulta la tabla de estado a continuaci√≥n para m√°s detalles.

      | Servicio | Estado | Notas |
      |---------|--------|-------|
      | PostgreSQL | ‚úÖ Funcionando | Base de datos principal completamente funcional |
      | Kong | ‚úÖ Funcionando | Gateway API operativo |
      | Studio | ‚úÖ Funcionando | Panel accesible |
      | Auth | ‚úÖ Funcionando | Flujos de autenticaci√≥n funcionando |
      | REST | ‚úÖ Funcionando | API PostgREST funcional |
      | Meta | ‚úÖ Funcionando | API de metadatos de base de datos operativa |
      | Vector | ‚úÖ Funcionando | Recolecci√≥n de registros operativa |
      | Analytics | ‚úÖ Funcionando | Integraci√≥n de Logflare funcionando |
      | JWT/Keys | ‚úÖ Funcionando | Secretos JWT personalizados compatibles |
      | Realtime | ‚ö†Ô∏è En pruebas | Puede ser inestable, necesita m√°s pruebas |
      | Storage | üöß En progreso | A√∫n no completamente probado |
      | Supavisor | üöß En progreso | El pool de conexiones necesita pruebas |
      | Functions | üöß Beta | Las funciones edge no est√°n completamente probadas |

      **Leyenda:**
      - ‚úÖ Funcionando - Completamente probado y operativo
      - ‚ö†Ô∏è En pruebas - Funcional pero puede tener problemas
      - üöß En progreso - En desarrollo/pruebas

      ## Resumen de Servicios

      ### Servicios Principales (Requeridos)

      1. **postgresql** - Base de datos PostgreSQL
         - Base de datos principal de Supabase, almacena todos los datos de la aplicaci√≥n
         - ‚ö†Ô∏è Requerido - No se puede eliminar

      2. **kong** - Gateway API
         - Punto de entrada API unificado, maneja enrutamiento, autenticaci√≥n y l√≠mite de velocidad
         - ‚ö†Ô∏è Requerido - No se puede eliminar

      3. **studio** - Panel de Supabase
         - Interfaz de administraci√≥n web para gestionar base de datos, autenticaci√≥n, almacenamiento, etc.
         - ‚ö†Ô∏è Requerido - Altamente recomendado mantener para administraci√≥n

      4. **auth** - Autenticaci√≥n GoTrue
         - Maneja registro de usuarios, inicio de sesi√≥n, OAuth y flujos de autenticaci√≥n
         - ‚ö†Ô∏è Requerido - A menos que uses un sistema de autenticaci√≥n externo

      5. **rest** - API PostgREST
         - Convierte autom√°ticamente la base de datos PostgreSQL en API RESTful
         - ‚ö†Ô∏è Requerido - No se puede eliminar

      6. **meta** - API Postgres Meta
         - Proporciona API de metadatos de base de datos, utilizada por Studio
         - ‚ö†Ô∏è Requerido - Studio depende de esto

      ### Servicios Opcionales

      7. **vector** - Agregaci√≥n de registros
         - Recopila y reenv√≠a registros de servicio a Analytics
         - ‚úÖ Opcional - Se puede eliminar si no se necesita an√°lisis de registros

      8. **analytics** - Analytics Logflare
         - Servicio de an√°lisis y consulta de registros
         - ‚úÖ Opcional - Se puede eliminar si no se necesita an√°lisis de registros (eliminar vector tambi√©n)

      9. **storage** - Almacenamiento de archivos
         - Servicio de carga, almacenamiento y gesti√≥n de archivos
         - ‚úÖ Opcional - Se puede eliminar si no se necesita almacenamiento de archivos
         - ‚ö†Ô∏è Estado: A√∫n no completamente probado

      10. **imgproxy** - Transformaci√≥n de im√°genes
          - Servicio de conversi√≥n y optimizaci√≥n de im√°genes (para Storage)
          - ‚úÖ Opcional - Se puede eliminar si se elimina storage

      11. **realtime** - Suscripciones en tiempo real
          - Proporciona funcionalidad de suscripci√≥n en tiempo real a cambios en la base de datos
          - ‚úÖ Opcional - Se puede eliminar si no se necesitan caracter√≠sticas en tiempo real
          - ‚ö†Ô∏è Estado: Puede ser inestable

      12. **functions** - Funciones Edge
          - Entorno de ejecuci√≥n de funciones serverless (similar a AWS Lambda)
          - ‚úÖ Opcional - Se puede eliminar si no se necesitan funciones edge
          - ‚ö†Ô∏è Estado: Fase beta, a√∫n no completamente probado

      13. **supavisor** - Pool de conexiones
          - Gestor de pool de conexiones PostgreSQL, mejora el rendimiento de conexi√≥n a la base de datos
          - ‚úÖ Opcional - Se puede eliminar para proyectos peque√±os
          - ‚ö†Ô∏è Estado: A√∫n no completamente probado

      ## Comenzar

      ### Acceder al Panel

      Despu√©s del despliegue, tu panel de Supabase Studio estar√° disponible en tu dominio configurado.

      **Encontrar tus credenciales:**
      1. Ve al **servicio Kong** en tu proyecto Zeabur
      2. Haz clic en la pesta√±a **Instructions (Instrucciones)**
      3. Encontrar√°s:
         - **Supabase Username**: Tu nombre de usuario del panel (de la variable `DASHBOARD_USERNAME`)
         - **Supabase Password**: Contrase√±a segura generada autom√°ticamente

      ### Claves de Seguridad Importantes

      Las siguientes claves est√°n expuestas en las variables de entorno del **servicio Kong**:

      | Clave | Ubicaci√≥n | Descripci√≥n |
      |-----|----------|-------------|
      | `JWT_SECRET` | Servicio Kong | Secreto para firmar tokens JWT |
      | `ANON_KEY` | Servicio Kong | Clave API p√∫blica para acceso an√≥nimo |
      | `SERVICE_ROLE_KEY` | Servicio Kong | Clave API de administrador con acceso completo |

      **‚ö†Ô∏è CR√çTICO**: Las claves predeterminadas son solo para fines de demostraci√≥n. **DEBES** generar nuevas claves antes del uso en producci√≥n.

      **C√≥mo generar claves seguras:**
      1. Visita el [Generador JWT de Supabase](https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys)
      2. Genera nuevas `ANON_KEY` y `SERVICE_ROLE_KEY` usando tu `JWT_SECRET` personalizado
      3. Actualiza las variables de entorno en el servicio Kong
      4. Reinicia todos los servicios para aplicar los cambios:
         - Ve a tu **Proyecto** ‚Üí **Configuraci√≥n** ‚Üí **General**
         - Despl√°zate hacia abajo hasta **Acciones por lotes**
         - Haz clic en **Reiniciar todo** para reiniciar todos los servicios

      ## Asegurar tus servicios

      Aunque proporcionamos algunos secretos de ejemplo para comenzar, NUNCA debes desplegar tu configuraci√≥n de Supabase usando los valores predeterminados que hemos proporcionado. Sigue todos los pasos en esta secci√≥n para asegurar que tienes una configuraci√≥n segura, y luego reinicia todos los servicios para aplicar los cambios.

      [Gu√≠a oficial](https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys)

  id-ID:
    description: Alternatif open source untuk Firebase. Kami membangun fitur-fitur Firebase menggunakan alat open source tingkat enterprise.
    variables:
      - key: DASHBOARD_USERNAME
        type: STRING
        name: Nama Pengguna Dashboard
        description: Nama pengguna apa yang Anda inginkan untuk Dashboard Supabase Anda?
      - key: PUBLIC_DOMAIN
        type: DOMAIN
        name: Domain
        description: Domain apa yang Anda inginkan untuk Supabase Anda?
    readme: |
      # Supabase Self-hosted untuk Zeabur

      Ini adalah demo Supabase self-hosted untuk Zeabur.
      Anda dapat menggunakan template ini untuk mendeploy instance Supabase di Zeabur.

      ## Status Pengembangan

      > ‚ö†Ô∏è **Template ini saat ini dalam pengembangan aktif.**
      > Beberapa layanan mungkin belum sepenuhnya berfungsi. Lihat tabel status di bawah untuk detailnya.

      | Layanan | Status | Catatan |
      |---------|--------|-------|
      | PostgreSQL | ‚úÖ Berfungsi | Database inti sepenuhnya berfungsi |
      | Kong | ‚úÖ Berfungsi | Gateway API operasional |
      | Studio | ‚úÖ Berfungsi | Dashboard dapat diakses |
      | Auth | ‚úÖ Berfungsi | Alur autentikasi berfungsi |
      | REST | ‚úÖ Berfungsi | API PostgREST fungsional |
      | Meta | ‚úÖ Berfungsi | API metadata database operasional |
      | Vector | ‚úÖ Berfungsi | Pengumpulan log operasional |
      | Analytics | ‚úÖ Berfungsi | Integrasi Logflare berfungsi |
      | JWT/Keys | ‚úÖ Berfungsi | Secret JWT kustom didukung |
      | Realtime | ‚ö†Ô∏è Pengujian | Mungkin tidak stabil, perlu lebih banyak pengujian |
      | Storage | üöß Dalam Progres | Belum diuji sepenuhnya |
      | Supavisor | üöß Dalam Progres | Connection pooler perlu pengujian |
      | Functions | üöß Beta | Edge functions belum diuji sepenuhnya |

      **Legenda:**
      - ‚úÖ Berfungsi - Sepenuhnya diuji dan operasional
      - ‚ö†Ô∏è Pengujian - Fungsional tetapi mungkin memiliki masalah
      - üöß Dalam Progres - Dalam pengembangan/pengujian

      ## Ringkasan Layanan

      ### Layanan Inti (Wajib)

      1. **postgresql** - Database PostgreSQL
         - Database inti Supabase, menyimpan semua data aplikasi
         - ‚ö†Ô∏è Wajib - Tidak dapat dihapus

      2. **kong** - Gateway API
         - Titik masuk API terpadu, menangani routing, autentikasi, dan pembatasan rate
         - ‚ö†Ô∏è Wajib - Tidak dapat dihapus

      3. **studio** - Dashboard Supabase
         - Antarmuka administrasi web untuk mengelola database, autentikasi, storage, dll.
         - ‚ö†Ô∏è Wajib - Sangat direkomendasikan untuk manajemen

      4. **auth** - Autentikasi GoTrue
         - Menangani pendaftaran pengguna, login, OAuth, dan alur autentikasi
         - ‚ö†Ô∏è Wajib - Kecuali menggunakan sistem autentikasi eksternal

      5. **rest** - API PostgREST
         - Secara otomatis mengonversi database PostgreSQL menjadi API RESTful
         - ‚ö†Ô∏è Wajib - Tidak dapat dihapus

      6. **meta** - API Postgres Meta
         - Menyediakan API metadata database, digunakan oleh Studio
         - ‚ö†Ô∏è Wajib - Studio bergantung pada ini

      ### Layanan Opsional

      7. **vector** - Agregasi Log
         - Mengumpulkan dan meneruskan log layanan ke Analytics
         - ‚úÖ Opsional - Dapat dihapus jika analisis log tidak diperlukan

      8. **analytics** - Analytics Logflare
         - Layanan analisis dan query log
         - ‚úÖ Opsional - Dapat dihapus jika analisis log tidak diperlukan (hapus vector juga)

      9. **storage** - Penyimpanan File
         - Layanan upload, penyimpanan, dan manajemen file
         - ‚úÖ Opsional - Dapat dihapus jika penyimpanan file tidak diperlukan
         - ‚ö†Ô∏è Status: Belum diuji sepenuhnya

      10. **imgproxy** - Transformasi Gambar
          - Layanan konversi dan optimasi gambar (untuk Storage)
          - ‚úÖ Opsional - Dapat dihapus jika storage dihapus

      11. **realtime** - Langganan Real-time
          - Menyediakan fungsionalitas langganan real-time untuk perubahan database
          - ‚úÖ Opsional - Dapat dihapus jika fitur real-time tidak diperlukan
          - ‚ö†Ô∏è Status: Mungkin tidak stabil

      12. **functions** - Edge Functions
          - Lingkungan eksekusi fungsi serverless (mirip AWS Lambda)
          - ‚úÖ Opsional - Dapat dihapus jika edge functions tidak diperlukan
          - ‚ö†Ô∏è Status: Fase beta, belum diuji sepenuhnya

      13. **supavisor** - Connection Pooler
          - Manajer connection pool PostgreSQL, meningkatkan performa koneksi database
          - ‚úÖ Opsional - Dapat dihapus untuk proyek kecil
          - ‚ö†Ô∏è Status: Belum diuji sepenuhnya

      ## Memulai

      ### Mengakses Dashboard

      Setelah deployment, dashboard Supabase Studio Anda akan tersedia di domain yang telah dikonfigurasi.

      **Menemukan kredensial Anda:**
      1. Buka **layanan Kong** di proyek Zeabur Anda
      2. Klik tab **Instructions (Instruksi)**
      3. Anda akan menemukan:
         - **Supabase Username**: Nama pengguna dashboard Anda (dari variabel `DASHBOARD_USERNAME`)
         - **Supabase Password**: Password aman yang dihasilkan otomatis

      ### Kunci Keamanan Penting

      Kunci-kunci berikut tersedia di variabel lingkungan **layanan Kong**:

      | Kunci | Lokasi | Deskripsi |
      |-----|----------|-------------|
      | `JWT_SECRET` | Layanan Kong | Secret untuk menandatangani token JWT |
      | `ANON_KEY` | Layanan Kong | Kunci API publik untuk akses anonim |
      | `SERVICE_ROLE_KEY` | Layanan Kong | Kunci API admin dengan akses penuh |

      **‚ö†Ô∏è PENTING**: Kunci default hanya untuk tujuan demo. Anda **HARUS** menghasilkan kunci baru sebelum penggunaan produksi.

      **Cara menghasilkan kunci yang aman:**
      1. Kunjungi [Generator JWT Supabase](https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys)
      2. Hasilkan `ANON_KEY` dan `SERVICE_ROLE_KEY` baru menggunakan `JWT_SECRET` kustom Anda
      3. Perbarui variabel lingkungan di layanan Kong
      4. Restart semua layanan untuk menerapkan perubahan:
         - Buka **Proyek** Anda ‚Üí **Pengaturan** ‚Üí **Umum**
         - Gulir ke bawah ke **Tindakan Batch**
         - Klik **Restart Semua** untuk me-restart semua layanan

      ## Mengamankan layanan Anda

      Meskipun kami menyediakan beberapa secret contoh untuk memulai, Anda TIDAK BOLEH mendeploy setup Supabase Anda menggunakan default yang kami sediakan. Ikuti semua langkah di bagian ini untuk memastikan Anda memiliki setup yang aman, lalu restart semua layanan untuk menerapkan perubahan.

      [Panduan resmi](https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys)
