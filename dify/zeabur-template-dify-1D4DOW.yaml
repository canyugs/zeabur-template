# yaml-language-server: $schema=https://schema.zeabur.app/template.json
apiVersion: zeabur.com/v1
kind: Template
metadata:
  name: Dify
spec:
  description: Dify is an open-source LLM app development platform.
  coverImage: https://framerusercontent.com/assets/wuOqS9XwiT7WjyMd0HAinp7aWo.png
  icon: https://registry.npmmirror.com/@lobehub/icons-static-png/latest/files/dark/dify-color.png
  variables:
    - key: PUBLIC_DOMAIN
      type: DOMAIN
      name: Domain
      description: Domain of your Dify app.
  tags:
    - LLM
    - Workflow
    - AI
  readme: |
    Dify is an open-source LLM app development platform. Its intuitive interface combines AI workflow, RAG pipeline, agent capabilities, model management, observability features and more, letting you quickly go from prototype to production.

    ## Features

    1. **Workflows**: Build and test powerful AI workflows on a visual canvas, leveraging all the following features and beyond.
    2. **Comprehensive model support**: Seamless integration with hundreds of proprietary / open-source LLMs from dozens of inference providers and self-hosted solutions, covering GPT, Mistral, Llama3, and any OpenAI API-compatible models. A full list of supported model providers can be found [in the Model Providers section](https://docs.dify.ai/getting-started/readme/model-providers).
    3. **Prompt IDE**: Intuitive interface for crafting prompts, comparing model performance, and adding additional features such as text-to-speech to a chat-based app.
    4. **RAG Pipeline**: Extensive RAG capabilities that cover everything from document ingestion to retrieval, with out-of-box support for text extraction from PDFs, PPTs, and other common document formats.
    5. **Agent capabilities**: You can define agents based on LLM Function Calling or ReAct, and add pre-built or custom tools for the agent. Dify provides 50+ built-in tools for AI agents, such as Google Search, DELL·E, Stable Diffusion and WolframAlpha.
    6. **LLMOps**: Monitor and analyze application logs and performance over time. You could continuously improve prompts, datasets, and models based on production data and annotations.
    7. **Backend-as-a-Service**: All of Dify's offerings come with corresponding APIs, so you could effortlessly integrate Dify into your own business logic.

    ## Deployment

    To deploy Dify, click the "Deploy" button in the top-right corner, and fill in the required domain name. Once deployed, you can access your Dify app at `https://<your-domain>.zeabur.app`.

    ## App structure

    - Redis, PostgreSQL, MINIO, and Weaviate for data storage and caching.
    - `api`, `worker`, `worker-beat`, `web`, and `sandbox` are the microservices of Dify.
    - `plugin-daemon` manages third-party plugin execution and lifecycle.
    - `nginx` is the gateway of Dify. It integrates the microservices to a single host. In another words, **it is the entry point of your Dify app.**

    ## Configuration

    Refer to <https://docs.dify.ai/getting-started/install-self-hosted/environments> for the configurable variables, which are primarily set in the `api` service.

    ### Upload File Size Limit

    The default upload file size limit is 100 MB. You can change this limit by modifying the `client_max_body_size` directive in the configuration file located at `/etc/nginx/nginx.conf` for the `nginx` service. The value should be a string with a unit (e.g., `100M` for 100 MB).

    Additionally, you may need to set the `UPLOAD_FILE_SIZE_LIMIT` variable in the environment of the `api` service to match this value. Ensure that this value is the same as the `client_max_body_size` directive in the `/etc/nginx/nginx.conf` configuration (e.g., `100M` for 100 MB).

    ## Changelog

    ### v1.13.0

    #### New
    - Human-in-the-Loop (HITL) workflow node for AI-human collaboration
    - Workflow streaming now runs in Celery workers for better reliability

    #### Fixes
    - Internal file URL for plugin daemon communication

    ### v1.12.1-2

    #### New
    - Added worker-beat scheduler service

    #### Fixes
    - Increased file upload size limit from 15MB to 100MB
    - Fixed plugin endpoint page asset loading 404
    - Fixed plugin endpoint URL showing localhost
    - Fixed app creation from templates failing

    #### Improvements
    - Environment variables are now managed by their respective services, reducing duplication
  services:
    - name: nginx
      icon: https://www.svgrepo.com/show/373924/nginx.svg
      template: PREBUILT_V2
      dependencies:
        - api
        - web
      spec:
        source:
          image: nginx:1.27
        ports:
          - id: web
            port: 80
            type: HTTP
        env:
          DIFY_GATEWAY_URL:
            default: https://${ZEABUR_WEB_DOMAIN}
            expose: true
        configs:
          - path: /etc/nginx/proxy.conf
            template: |
              proxy_set_header Host $host;
              proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
              proxy_set_header X-Forwarded-Proto $scheme;
              proxy_set_header X-Forwarded-Port $server_port;
              proxy_http_version 1.1;
              proxy_set_header Connection "";
              proxy_buffering off;
              proxy_read_timeout 3600s;
              proxy_send_timeout 3600s;
          - path: /etc/nginx/nginx.conf
            template: |
              user  nginx;
              worker_processes  auto;

              error_log  /var/log/nginx/error.log notice;
              pid        /var/run/nginx.pid;

              events {
                worker_connections  1024;
              }

              http {
                include       /etc/nginx/mime.types;
                default_type  application/octet-stream;

                log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                '$status $body_bytes_sent "$http_referer" '
                '"$http_user_agent" "$http_x_forwarded_for"';

                access_log  /var/log/nginx/access.log  main;

                sendfile        on;
                keepalive_timeout  65;
                client_max_body_size 100M;
                include /etc/nginx/conf.d/*.conf;
              }
          - path: /etc/nginx/conf.d/default.conf
            template: |
              server {
                listen 80;
                server_name _;

                location /console/api {
                  proxy_pass http://api:5001;
                  include proxy.conf;
                }

                location /api {
                  proxy_pass http://api:5001;
                  include proxy.conf;
                }

                location /v1 {
                  proxy_pass http://api:5001;
                  include proxy.conf;
                }

                location /files {
                  proxy_pass http://api:5001;
                  include proxy.conf;
                }

                location /explore {
                  proxy_pass http://web:3000;
                  include proxy.conf;
                }

                location ~ ^/e/([^/]+)(/.*)?$ {
                  set $hook_id $1;
                  proxy_pass http://plugin-daemon:5002;
                  proxy_set_header Dify-Hook-Url $scheme://$host$request_uri;
                  proxy_redirect ~^/(?!e/)(.+)$ /e/$hook_id/$1;
                  include proxy.conf;
                }

                location /mcp {
                  proxy_pass http://api:5001;
                  include proxy.conf;
                }

                location /triggers {
                  proxy_pass http://api:5001;
                  include proxy.conf;
                }

                location / {
                  proxy_pass http://web:3000;
                  include proxy.conf;
                }
              }
      domainKey: PUBLIC_DOMAIN

    - name: redis
      icon: https://raw.githubusercontent.com/zeabur/service-icons/main/marketplace/redis.svg
      template: PREBUILT_V2
      spec:
        source:
          image: redis/redis-stack-server:7.4.0-v8
        ports:
          - id: database
            port: 6379
            type: TCP
        volumes:
          - id: data
            dir: /data
        instructions:
          - title: Command to connect to your Redis
            content: redis-cli -h ${PORT_FORWARDED_HOSTNAME} -p ${DATABASE_PORT_FORWARDED_PORT} -a ${REDIS_PASSWORD}
          - title: Redis Connection String
            content: redis://:${REDIS_PASSWORD}@${PORT_FORWARDED_HOSTNAME}:${DATABASE_PORT_FORWARDED_PORT}
          - title: Redis password
            content: ${REDIS_PASSWORD}
          - title: Redis host
            content: ${PORT_FORWARDED_HOSTNAME}
          - title: Redis port
            content: ${DATABASE_PORT_FORWARDED_PORT}
        env:
          REDIS_ARGS:
            default: --requirepass ${REDIS_PASSWORD}
          REDIS_CONNECTION_STRING:
            default: redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}
            expose: true
          REDIS_HOST:
            default: ${CONTAINER_HOSTNAME}
            expose: true
          REDIS_PASSWORD:
            default: ${PASSWORD}
            expose: true
          REDIS_PORT:
            default: ${DATABASE_PORT}
            expose: true
          REDIS_URI:
            default: ${REDIS_CONNECTION_STRING}
            expose: true

    - name: db
      icon: https://raw.githubusercontent.com/zeabur/service-icons/main/marketplace/postgresql.svg
      template: PREBUILT_V2
      spec:
        source:
          image: postgres:16
        ports:
          - id: database
            port: 5432
            type: TCP
        volumes:
          - id: data
            dir: /var/lib/postgresql/data
        instructions:
          - title: Connection String
            content: postgresql://${POSTGRES_USERNAME}:${POSTGRES_PASSWORD}@${PORT_FORWARDED_HOSTNAME}:${DATABASE_PORT_FORWARDED_PORT}/${POSTGRES_DATABASE}
          - title: PostgreSQL Connect Command
            content: psql "postgresql://${POSTGRES_USERNAME}:${POSTGRES_PASSWORD}@${PORT_FORWARDED_HOSTNAME}:${DATABASE_PORT_FORWARDED_PORT}/${POSTGRES_DATABASE}"
          - title: PostgreSQL username
            content: ${POSTGRES_USERNAME}
          - title: PostgresSQL password
            content: ${POSTGRES_PASSWORD}
          - title: PostgresSQL database
            content: ${POSTGRES_DATABASE}
          - title: PostgreSQL host
            content: ${PORT_FORWARDED_HOSTNAME}
          - title: PostgreSQL port
            content: ${DATABASE_PORT_FORWARDED_PORT}
        env:
          PGDATA:
            default: /var/lib/postgresql/data/pgdata
          POSTGRES_CONNECTION_STRING:
            default: postgresql://${POSTGRES_USERNAME}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DATABASE}
            expose: true
          POSTGRES_DATABASE:
            default: ${POSTGRES_DB}
            expose: true
          POSTGRES_DB:
            default: zeabur
          POSTGRES_HOST:
            default: ${CONTAINER_HOSTNAME}
            expose: true
          POSTGRES_PASSWORD:
            default: ${PASSWORD}
            expose: true
          POSTGRES_PORT:
            default: ${DATABASE_PORT}
            expose: true
          POSTGRES_URI:
            default: ${POSTGRES_CONNECTION_STRING}
            expose: true
          POSTGRES_USER:
            default: root
          POSTGRES_USERNAME:
            default: ${POSTGRES_USER}
            expose: true
          DB_DATABASE:
            default: ${POSTGRES_DATABASE}
            expose: true
          DB_HOST:
            default: ${POSTGRES_HOST}
            expose: true
          DB_PASSWORD:
            default: ${POSTGRES_PASSWORD}
            expose: true
          DB_PORT:
            default: ${POSTGRES_PORT}
            expose: true
          DB_USERNAME:
            default: ${POSTGRES_USERNAME}
            expose: true

    - name: minio
      icon: https://raw.githubusercontent.com/zeabur/service-icons/main/marketplace/minio.svg
      template: PREBUILT_V2
      spec:
        source:
          image: quay.io/minio/minio:RELEASE.2023-03-20T20-16-18Z
          command:
            - /bin/sh
          args:
            - -c
            - |
              minio server /data --console-address :9090 &
              MINIO_PID=$!
              while ! curl -s http://localhost:9000/minio/health/live; do
                echo 'Waiting for MinIO to start...'
                sleep 1
              done
              sleep 5
              mc alias set myminio http://localhost:9000 $MINIO_USERNAME $MINIO_PASSWORD
              echo "Creating bucket '$MINIO_DEFAULT_BUCKET'"
              mc mb myminio/$MINIO_DEFAULT_BUCKET
              wait $MINIO_PID
        ports:
          - id: web
            port: 9000
            type: HTTP
          - id: console
            port: 9090
            type: HTTP
        volumes:
          - id: data
            dir: /data
        instructions:
          - title: Go to MinIO Console
            content: ${MINIO_CONSOLE_URL}
          - title: MinIO Username
            content: ${MINIO_USERNAME}
          - title: MinIO Password
            content: ${MINIO_PASSWORD}
        env:
          MINIO_BROWSER_REDIRECT:
            default: "false"
          MINIO_CONSOLE_URL:
            default: ${ZEABUR_CONSOLE_URL}
            expose: true
          MINIO_DEFAULT_BUCKET:
            default: dify
          MINIO_PASSWORD:
            default: ${MINIO_ROOT_PASSWORD}
            expose: true
          MINIO_ROOT_PASSWORD:
            default: ${PASSWORD}
          MINIO_ROOT_USER:
            default: minio
          MINIO_USERNAME:
            default: ${MINIO_ROOT_USER}
            expose: true
          STORAGE_TYPE:
            default: s3
            expose: true
          S3_ACCESS_KEY:
            default: ${MINIO_USERNAME}
            expose: true
          S3_SECRET_KEY:
            default: ${MINIO_PASSWORD}
            expose: true
          S3_BUCKET_NAME:
            default: dify
            expose: true
          S3_ENDPOINT:
            default: http://minio:9000
            expose: true
          S3_REGION:
            default: us-east-1
            expose: true

    - name: api
      icon: https://registry.npmmirror.com/@lobehub/icons-static-png/latest/files/dark/dify-color.png
      template: PREBUILT_V2
      dependencies:
        - db
        - redis
      spec:
        source:
          image: langgenius/dify-api:1.13.0
        ports:
          - id: api
            port: 5001
            type: HTTP
        volumes:
          - id: data
            dir: /app/api/storage
        env:
          API_SECRET_KEY:
            default: ${PASSWORD}
            expose: true
          APP_WEB_URL:
            default: ${DIFY_GATEWAY_URL}
            expose: true
          CELERY_BROKER_URL:
            default: redis://:${REDIS_PASSWORD}@redis:6379/1
            expose: true
          CONSOLE_API_URL:
            default: ${DIFY_GATEWAY_URL}
            expose: true
          CONSOLE_WEB_URL:
            default: ${DIFY_GATEWAY_URL}
            expose: true
          ENDPOINT_URL_TEMPLATE:
            default: ${DIFY_GATEWAY_URL}/e/{hook_id}
          FILES_URL:
            default: ${DIFY_GATEWAY_URL}
            expose: true
          HOSTED_FETCH_APP_TEMPLATES_MODE:
            default: builtin
          INTERNAL_FILES_URL:
            default: http://api:5001
          INNER_API:
            default: "true"
          INNER_API_KEY:
            default: ${API_SECRET_KEY}
          INNER_API_KEY_FOR_PLUGIN:
            default: ${API_SECRET_KEY}
          MARKETPLACE_API_URL:
            default: https://marketplace.dify.ai
          MARKETPLACE_ENABLED:
            default: "true"
          MIGRATION_ENABLED:
            default: "true"
          MODE:
            default: api
          PLUGIN_DAEMON_KEY:
            default: ${API_SECRET_KEY}
            expose: true
          PLUGIN_DAEMON_TIMEOUT:
            default: "600.0"
            expose: true
          PLUGIN_DAEMON_URL:
            default: http://plugin-daemon:5002
            expose: true
          PLUGIN_MAX_PACKAGE_SIZE:
            default: "52428800"
          PLUGIN_REMOTE_INSTALL_HOST:
            default: plugin-daemon
          PLUGIN_REMOTE_INSTALL_PORT:
            default: "5003"
          SECRET_KEY:
            default: ${API_SECRET_KEY}
            expose: true
          SERVICE_API_URL:
            default: ${DIFY_GATEWAY_URL}
            expose: true
          TRIGGER_URL:
            default: ${DIFY_GATEWAY_URL}
            expose: true

    - name: worker
      icon: https://registry.npmmirror.com/@lobehub/icons-static-png/latest/files/dark/dify-color.png
      template: PREBUILT_V2
      dependencies:
        - db
        - redis
        - api
      spec:
        source:
          image: langgenius/dify-api:1.13.0
        env:
          LOG_LEVEL:
            default: INFO
          MODE:
            default: worker

    - name: worker-beat
      icon: https://registry.npmmirror.com/@lobehub/icons-static-png/latest/files/dark/dify-color.png
      template: PREBUILT_V2
      dependencies:
        - db
        - redis
        - api
      spec:
        source:
          image: langgenius/dify-api:1.13.0
        env:
          LOG_LEVEL:
            default: INFO
          MODE:
            default: beat

    - name: web
      icon: https://registry.npmmirror.com/@lobehub/icons-static-png/latest/files/dark/dify-color.png
      template: PREBUILT_V2
      spec:
        source:
          image: langgenius/dify-web:1.13.0
        ports:
          - id: web
            port: 3000
            type: HTTP
        env:
          APP_API_URL:
            default: ${DIFY_GATEWAY_URL}
          CONSOLE_API_URL:
            default: ${DIFY_GATEWAY_URL}

    - name: weaviate
      icon: https://avatars.githubusercontent.com/u/37794290
      template: PREBUILT_V2
      spec:
        source:
          image: semitechnologies/weaviate:1.27.0
        ports:
          - id: web
            port: 8080
            type: HTTP
        volumes:
          - id: data
            dir: /var/lib/weaviate
        env:
          AUTHENTICATION_ANONYMOUS_ACCESS_ENABLED:
            default: "false"
          AUTHENTICATION_APIKEY_ALLOWED_KEYS:
            default: WVF5YThaHlkYwhGUSmCRgsX3tD5ngdN8pkih
          AUTHENTICATION_APIKEY_ENABLED:
            default: "true"
          AUTHENTICATION_APIKEY_USERS:
            default: hello@dify.ai
          AUTHORIZATION_ADMINLIST_ENABLED:
            default: "true"
          AUTHORIZATION_ADMINLIST_USERS:
            default: hello@dify.ai
          CLUSTER_HOSTNAME:
            default: node1
          DEFAULT_VECTORIZER_MODULE:
            default: none
          ENABLE_MODULES:
            default: text2vec-cohere,text2vec-huggingface,text2vec-palm,text2vec-openai,generative-openai,generative-cohere,generative-palm,ref2vec-centroid,reranker-cohere,qna-openai
          PERSISTENCE_DATA_PATH:
            default: /var/lib/weaviate
          QUERY_DEFAULTS_LIMIT:
            default: "25"
          VECTOR_STORE:
            default: weaviate
            expose: true
          WEAVIATE_API_KEY:
            default: ${AUTHENTICATION_APIKEY_ALLOWED_KEYS}
            expose: true
          WEAVIATE_ENDPOINT:
            default: http://weaviate:8080
            expose: true

    - name: sandbox
      icon: https://registry.npmmirror.com/@lobehub/icons-static-png/latest/files/dark/dify-color.png
      template: PREBUILT_V2
      spec:
        source:
          image: langgenius/dify-sandbox:0.2.12
        ports:
          - id: web
            port: 8194
            type: HTTP
        env:
          API_KEY:
            default: dify-sandbox
          ENABLE_NETWORK:
            default: "true"
          GIN_MODE:
            default: release
          SANDBOX_PORT:
            default: "8194"
          WORKER_TIMEOUT:
            default: "15"
          CODE_EXECUTION_API_KEY:
            default: ${API_KEY}
            expose: true
          CODE_EXECUTION_ENDPOINT:
            default: http://sandbox:8194
            expose: true

    - name: ssrf-proxy
      icon: https://registry.npmmirror.com/@lobehub/icons-static-png/latest/files/dark/dify-color.png
      template: PREBUILT_V2
      spec:
        source:
          image: ubuntu/squid:5.2-22.04_beta
        ports:
          - id: proxy
            port: 3128
            type: TCP
        env:
          HTTP_PORT:
            default: "3128"
          COREDUMP_DIR:
            default: /var/spool/squid
          SSRF_PROXY_HTTP_URL:
            default: http://ssrf-proxy:3128
            expose: true
          SSRF_PROXY_HTTPS_URL:
            default: http://ssrf-proxy:3128
            expose: true
        configs:
          - path: /etc/squid/squid.conf
            template: |
              acl localnet src 0.0.0.1-0.255.255.255
              acl localnet src 10.0.0.0/8
              acl localnet src 100.64.0.0/10
              acl localnet src 169.254.0.0/16
              acl localnet src 172.16.0.0/12
              acl localnet src 192.168.0.0/16
              acl localnet src fc00::/7
              acl localnet src fe80::/10
              acl SSL_ports port 443
              acl Safe_ports port 80
              acl Safe_ports port 21
              acl Safe_ports port 443
              acl Safe_ports port 70
              acl Safe_ports port 210
              acl Safe_ports port 1025-65535
              acl Safe_ports port 280
              acl Safe_ports port 488
              acl Safe_ports port 591
              acl Safe_ports port 777
              http_access deny !Safe_ports
              http_access deny CONNECT !SSL_ports
              http_access allow localhost manager
              http_access deny manager
              http_access allow localnet
              http_access allow localhost
              http_access deny all
              http_port 3128
              coredump_dir /var/spool/squid
              refresh_pattern ^ftp:           1440    20%     10080
              refresh_pattern ^gopher:        1440    0%      1440
              refresh_pattern -i (/cgi-bin/|\?) 0     0%      0
              refresh_pattern \/(Packages|Sources)(|\.bz2|\.gz|\.xz)$ 0 0% 0 refresh-ims
              refresh_pattern \/Release(|\.gpg)$ 0 0% 0 refresh-ims
              refresh_pattern \/InRelease$ 0 0% 0 refresh-ims
              refresh_pattern \/(Translation-.*)(|\.bz2|\.gz|\.xz)$ 0 0% 0 refresh-ims
              refresh_pattern .               0       20%     4320

    - name: plugin-daemon
      icon: https://registry.npmmirror.com/@lobehub/icons-static-png/latest/files/dark/dify-color.png
      template: PREBUILT_V2
      dependencies:
        - db
        - api
      spec:
        source:
          image: langgenius/dify-plugin-daemon:0.5.3-local
        ports:
          - id: web
            port: 5002
            type: HTTP
        volumes:
          - id: data
            dir: /app/storage
        env:
          DIFY_INNER_API_KEY:
            default: ${API_SECRET_KEY}
          DIFY_INNER_API_URL:
            default: http://api:5001
          MAX_PLUGIN_PACKAGE_SIZE:
            default: "52428800"
          PLATFORM:
            default: local
          PLUGIN_DAEMON_PORT:
            default: "5002"
            expose: true
          PLUGIN_INSTALL_TIMEOUT:
            default: "300"
          PLUGIN_MAX_EXECUTION_TIMEOUT:
            default: "600"
          PLUGIN_STORAGE_TYPE:
            default: local
          SERVER_PORT:
            default: "5002"
          SERVER_KEY:
            default: ${API_SECRET_KEY}
          PLUGIN_WORKING_PATH:
            default: /app/storage/cwd
          FORCE_VERIFYING_SIGNATURE:
            default: "true"
          PYTHON_ENV_INIT_TIMEOUT:
            default: "120"
          PLUGIN_STDIO_BUFFER_SIZE:
            default: "1024"
          PLUGIN_REMOTE_INSTALLING_ENABLED:
            default: "true"
          PLUGIN_REMOTE_INSTALLING_HOST:
            default: "0.0.0.0"
          PLUGIN_REMOTE_INSTALLING_PORT:
            default: "5003"
          PLUGIN_DEBUGGING_HOST:
            default: "0.0.0.0"
          PLUGIN_DEBUGGING_PORT:
            default: "5003"

localization:
  ja-JP:
    description: Difyは、オープンソースの大規模言語モデル（LLM）アプリケーション開発プラットフォームです。
    readme: |-
      DifyはオープンソースのLLMアプリ開発プラットフォームです。その直感的なインターフェースは、AIワークフロー、RAGパイプライン、エージェント機能、モデル管理、可観測性機能などを組み合わせており、プロトタイプから本番環境への移行を迅速に行うことができます。

      ## 機能

      1. **ワークフロー**：視覚的なキャンバス上で強力なAIワークフローを構築し、テストします。以下のすべての機能およびそれ以上を活用します。
      2. **包括的なモデルサポート**：数十の推論プロバイダーおよび自己ホスト型ソリューションから、数百の専有/オープンソースLLMとシームレスに統合されており、GPT、Mistral、Llama3、そしてOpenAI API互換のモデルをすべてカバーしています。サポートされているモデルプロバイダーの完全なリストは[モデルプロバイダーセクション](https://docs.dify.ai/getting-started/readme/model-providers)で見つけることができます。
      3. **プロンプトIDE**：プロンプトの作成、モデルの性能比較、そしてチャットベースのアプリに音声合成などの追加機能を加えるための直感的なインターフェースです。
      4. **RAGパイプライン**：ドキュメントの取り込みから検索までをカバーする広範なRAG機能を備えており、PDF、PPT、およびその他の一般的なドキュメント形式からのテキスト抽出をサポートします。
      5. **エージェント機能**：LLM関数呼び出しまたはReActに基づいてエージェントを定義し、エージェントにプリビルドまたはカスタムツールを追加できます。Difyは、Google検索、DELL·E、Stable Diffusion、WolframAlphaなど、AIエージェント向けに50以上の組み込みツールを提供しています。
      6. **LLMOps**：アプリケーションのログと性能を時間の経過とともに監視し、分析します。プロダクションデータと注釈に基づいてプロンプト、データセット、モデルを継続的に改善することができます。
      7. **バックエンド・アズ・ア・サービス**：Difyのすべての製品には対応するAPIが付属しており、Difyをビジネスロジックに簡単に統合できます。

      ## デプロイ

      Difyをデプロイするには、右上の「デプロイ」ボタンをクリックし、必要なドメイン名を入力してください。デプロイ後、`https://<your-domain>.zeabur.app`でDifyアプリにアクセスできます。

      ## アプリの構造

      - Redis、PostgreSQL、MINIO、Weaviateがデータストレージとキャッシングに使用されます。
      - `api`、`worker`、`worker-beat`、`web`、`sandbox`はDifyのマイクロサービスです。
      - `plugin-daemon`はサードパーティプラグインの実行とライフサイクルを管理します。
      - `nginx`はDifyのゲートウェイです。マイクロサービスを単一のホストに統合します。言い換えれば、**それがDifyアプリのエントリーポイントです。**

      ## 設定

      環境変数の設定については、<https://docs.dify.ai/getting-started/install-self-hosted/environments> を参照してください。これらの変数は主に `api` サービスで設定されます。

      ### アップロードファイルサイズの制限

      デフォルトのアップロードファイルサイズ制限は100 MBです。この制限は、`nginx` サービスの `/etc/nginx/nginx.conf` 設定ファイル内の `client_max_body_size` ディレクティブを変更することで調整できます。値は単位付きの文字列で指定する必要があります（例：`100M` は100 MBを表します）。

      また、`api` サービスの環境で `UPLOAD_FILE_SIZE_LIMIT` 変数を設定し、上記の設定と一致させる必要があるかもしれません。この値が `/etc/nginx/nginx.conf` の設定にある `client_max_body_size` ディレクティブと同じであることを確認してください（例：`100M` は100 MBを表します）。

      ## 変更履歴

      ### v1.13.0

      #### 追加
      - AI と人間の協働のための Human-in-the-Loop（HITL）ワークフローノード
      - ワークフローストリーミングが Celery ワーカーで実行されるようになり、信頼性が向上

      #### 修正
      - プラグインデーモン通信用の内部ファイル URL を追加

      ### v1.12.1-2

      #### 追加
      - worker-beat スケジューラサービスを追加

      #### 修正
      - ファイルアップロードサイズ制限を 15MB から 100MB に引き上げ
      - プラグインエンドポイントページのアセット読み込み 404 を修正
      - プラグインエンドポイント URL が localhost と表示される問題を修正
      - テンプレートからのアプリ作成が失敗する問題を修正

      #### 改善
      - 環境変数を各サービスで管理するように変更し、重複を削減

  zh-CN:
    description: Dify 是一个开源的大型语言模型(LLM)应用开发平台。
    readme: |-
      Dify 是一个开源的 LLM 应用开发平台。它的直观界面结合了 AI 工作流、RAG 流水线、代理功能、模型管理、可观察性特征等，使您能够快速从原型开发到生产。

      ## 功能

      1. **工作流**：在可视化画布上构建和测试强大的 AI 工作流，利用以下所有功能及更多功能。
      2. **全面的模型支持**：与数十家推理提供商和自托管解决方案的数百个专有/开源 LLM 无缝集成，涵盖 GPT、Mistral、Llama3 和任何兼容 OpenAI API 的模型。支持的模型提供商的完整列表可以在 [模型提供商部分](https://docs.dify.ai/getting-started/readme/model-providers) 中找到。
      3. **提示 IDE**：用于设计提示、比较模型性能并为基于聊天的应用程序添加其他功能（如文本转语音）的直观界面。
      4. **RAG 流水线**：广泛的 RAG 功能，涵盖从文档摄取到检索的所有内容，开箱即用支持从 PDF、PPT 和其他常见文档格式中提取文本。
      5. **代理功能**：您可以基于 LLM 函数调用或 ReAct 定义代理，并为代理添加预构建或自定义工具。Dify 为 AI 代理提供了 50 多种内置工具，例如 Google Search、DELL·E、Stable Diffusion 和 WolframAlpha。
      6. **LLMOps**：监控和分析应用程序日志和性能随时间的变化。您可以根据生产数据和注释不断改进提示、数据集和模型。
      7. **后端即服务**：Dify 的所有产品都附带相应的 API，因此您可以轻松地将 Dify 集成到您自己的业务逻辑中。

      ## 部署

      要部署 Dify，请点击右上角的"部署"按钮，并填写所需的域名。部署后，您可以在 `https://<your-domain>.zeabur.app` 访问您的 Dify 应用。

      ## 应用结构

      - Redis、PostgreSQL、MINIO 和 Weaviate 用于数据存储和缓存。
      - `api`、`worker`、`worker-beat`、`web` 和 `sandbox` 是 Dify 的微服务。
      - `plugin-daemon` 管理第三方插件的执行和生命周期。
      - `nginx` 是 Dify 的网关。它将微服务集成到一个主机上。换句话说，**它是您的 Dify 应用的入口点。**

      ## 配置

      请参考 <https://docs.dify.ai/getting-started/install-self-hosted/environments> 了解可配置的环境变量，这些变量主要在 `api` 服务中设置。

      ### 上传文件大小限制

      默认的上传文件大小限制为 100 MB。你可以通过修改 `nginx` 服务中的 `/etc/nginx/nginx.conf` 配置文件里的 `client_max_body_size` 指令来调整这个限制。数值应为带有单位的字符串（例如：`100M` 表示 100 MB）。

      另外，你可能需要在 `api` 服务的环境中设置 `UPLOAD_FILE_SIZE_LIMIT` 变量，使其与上述配置保持一致。请确保这个数值与 `/etc/nginx/nginx.conf` 配置中的 `client_max_body_size` 指令相同（例如：`100M` 表示 100 MB）。

      ## 更新日志

      ### v1.13.0

      #### 新增
      - Human-in-the-Loop（HITL）工作流节点，支持 AI 与人类协作
      - 工作流流式处理现在在 Celery worker 中运行，提升可靠性

      #### 修正
      - 新增插件守护进程通信用的内部文件 URL

      ### v1.12.1-2

      #### 新增
      - 新增 worker-beat 排程服务

      #### 修正
      - 文件上传大小从 15MB 提高到 100MB
      - 修正 plugin endpoint 页面 asset 加载 404
      - 修正 plugin endpoint URL 显示为 localhost
      - 修正从模板创建应用时会失败的问题

      #### 优化
      - 环境变量改由对应服务各自管理，减少重复设定

  zh-TW:
    description: Dify 是一個開源的大型語言模型(LLM)應用開發平台。
    readme: |-
      Dify 是一個開源的 LLM 應用程式開發平台。它的直觀介面結合了 AI 工作流程、RAG 流水線、代理功能、模型管理、可觀察性特徵等，使您能夠快速從原型開發到生產。

      ## 功能

      1. **工作流程**：在可視化畫布上建構和測試強大的 AI 工作流程，利用以下所有功能及更多功能。
      2. **全面的模型支援**：與數十家推理提供商和自託管解決方案的數百個專有/開源 LLM 無縫整合，涵蓋 GPT、Mistral、Llama3 和任何相容 OpenAI API 的模型。支援的模型提供商的完整列表可以在 [模型提供商部分](https://docs.dify.ai/getting-started/readme/model-providers) 中找到。
      3. **提示 IDE**：用於設計提示、比較模型效能並為基於聊天的應用程式加入其他功能（如文字轉語音）的直觀介面。
      4. **RAG 流水線**：廣泛的 RAG 功能，涵蓋從文件攝取到檢索的所有內容，開箱即用支援從 PDF、PPT 和其他常見檔案格式中提取文字。
      5. **代理功能**：您可以基於 LLM 函數呼叫或 ReAct 定義代理，並為代理加入預建構或自訂工具。Dify 為 AI 代理提供了 50 多種內建工具，例如 Google Search、DELL·E、Stable Diffusion 和 WolframAlpha。
      6. **LLMOps**：監控和分析應用程式日誌和效能隨時間的變化。您可以根據生產資料和註釋不斷改進提示、資料集和模型。
      7. **後端即服務**：Dify 的所有產品都附帶相應的 API，因此您可以輕鬆地將 Dify 整合到您自己的業務邏輯中。

      ## 部署

      要部署 Dify，請點擊右上角的「部署」按鈕，並填寫所需的域名。部署後，您可以在 `https://<your-domain>.zeabur.app` 存取您的 Dify 應用程式。

      ## 應用程式結構

      - Redis、PostgreSQL、MINIO 和 Weaviate 用於資料儲存和快取。
      - `api`、`worker`、`worker-beat`、`web` 和 `sandbox` 是 Dify 的微服務。
      - `plugin-daemon` 管理第三方插件的執行和生命週期。
      - `nginx` 是 Dify 的閘道。它將微服務整合到一個主機上。換句話說，**它是您的 Dify 應用程式的入口點。**

      ## 設定

      請參考 <https://docs.dify.ai/getting-started/install-self-hosted/environments> 了解可設定的變數，這些變數主要設定在 `api` 服務當中。

      ### 上傳檔案大小限制

      預設的上傳檔案大小限制為 100 MB。你可以透過修改 `nginx` 服務中的 `/etc/nginx/nginx.conf` 設定檔裡的 `client_max_body_size` 指令來調整這個限制。數值應為帶有單位的字串（例如：`100M` 代表 100 MB）。

      此外，你可能需要在 `api` 服務的環境中設定 `UPLOAD_FILE_SIZE_LIMIT` 變數，使其與上述設定相符。請確保這個數值與 `/etc/nginx/nginx.conf` 設定中的 `client_max_body_size` 指令相同（例如：`100M` 代表 100 MB）。

      ## 更新日誌

      ### v1.13.0

      #### 新增
      - Human-in-the-Loop（HITL）工作流程節點，支援 AI 與人類協作
      - 工作流程串流處理現在在 Celery worker 中執行，提升可靠性

      #### 修正
      - 新增插件守護程式通訊用的內部檔案 URL

      ### v1.12.1-2

      #### 新增
      - 新增 worker-beat 排程服務

      #### 修正
      - 檔案上傳大小從 15MB 提高到 100MB
      - 修正 plugin endpoint 頁面 asset 載入 404
      - 修正 plugin endpoint URL 顯示為 localhost
      - 修正從模板建立應用時會失敗的問題

      #### 優化
      - 環境變數改由對應服務各自管理，減少重複設定

  es:
    description: Dify es una plataforma de desarrollo de aplicaciones LLM de código abierto.
    readme: |-
      Dify es una plataforma de desarrollo de aplicaciones LLM de código abierto. Su interfaz intuitiva combina flujos de trabajo de IA, pipelines RAG, capacidades de agentes, gestión de modelos, funciones de observabilidad y más, permitiéndote pasar rápidamente del prototipo a producción.

      ## Características

      1. **Flujos de trabajo**: Construye y prueba potentes flujos de trabajo de IA en un lienzo visual, aprovechando todas las siguientes características y más.
      2. **Soporte integral de modelos**: Integración fluida con cientos de LLMs propietarios/de código abierto de docenas de proveedores de inferencia y soluciones autoalojadas, cubriendo GPT, Mistral, Llama3 y cualquier modelo compatible con la API de OpenAI. La lista completa de proveedores de modelos compatibles se puede encontrar en [la sección de Proveedores de Modelos](https://docs.dify.ai/getting-started/readme/model-providers).
      3. **IDE de prompts**: Interfaz intuitiva para crear prompts, comparar el rendimiento de los modelos y agregar funciones adicionales como texto a voz en una aplicación basada en chat.
      4. **Pipeline RAG**: Amplias capacidades RAG que cubren desde la ingesta de documentos hasta la recuperación, con soporte listo para usar para la extracción de texto de PDFs, PPTs y otros formatos de documentos comunes.
      5. **Capacidades de agentes**: Puedes definir agentes basados en llamadas a funciones LLM o ReAct, y agregar herramientas preconstruidas o personalizadas para el agente. Dify proporciona más de 50 herramientas integradas para agentes de IA, como Google Search, DELL·E, Stable Diffusion y WolframAlpha.
      6. **LLMOps**: Monitorea y analiza los registros y el rendimiento de la aplicación a lo largo del tiempo. Puedes mejorar continuamente los prompts, conjuntos de datos y modelos basándote en datos de producción y anotaciones.
      7. **Backend como servicio**: Todas las ofertas de Dify vienen con APIs correspondientes, por lo que puedes integrar Dify fácilmente en tu propia lógica de negocio.

      ## Despliegue

      Para desplegar Dify, haz clic en el botón "Deploy" en la esquina superior derecha e ingresa el nombre de dominio requerido. Una vez desplegado, puedes acceder a tu aplicación Dify en `https://<your-domain>.zeabur.app`.

      ## Estructura de la aplicación

      - Redis, PostgreSQL, MINIO y Weaviate para almacenamiento de datos y caché.
      - `api`, `worker`, `worker-beat`, `web` y `sandbox` son los microservicios de Dify.
      - `plugin-daemon` gestiona la ejecución y el ciclo de vida de los plugins de terceros.
      - `nginx` es el gateway de Dify. Integra los microservicios en un solo host. En otras palabras, **es el punto de entrada de tu aplicación Dify.**

      ## Configuración

      Consulta <https://docs.dify.ai/getting-started/install-self-hosted/environments> para las variables configurables, que se establecen principalmente en el servicio `api`.

      ### Límite de tamaño de archivo de carga

      El límite de tamaño de archivo de carga predeterminado es 100 MB. Puedes cambiar este límite modificando la directiva `client_max_body_size` en el archivo de configuración ubicado en `/etc/nginx/nginx.conf` para el servicio `nginx`. El valor debe ser una cadena con una unidad (por ejemplo, `100M` para 100 MB).

      Además, es posible que necesites establecer la variable `UPLOAD_FILE_SIZE_LIMIT` en el entorno del servicio `api` para que coincida con este valor. Asegúrate de que este valor sea el mismo que la directiva `client_max_body_size` en la configuración `/etc/nginx/nginx.conf` (por ejemplo, `100M` para 100 MB).

      ## Registro de cambios

      ### v1.13.0

      #### Nuevo
      - Nodo de flujo de trabajo Human-in-the-Loop (HITL) para colaboración entre IA y humanos
      - El streaming de flujos de trabajo ahora se ejecuta en workers de Celery para mayor fiabilidad

      #### Correcciones
      - URL de archivo interno para la comunicación del plugin daemon

      ### v1.12.1-2

      #### Nuevo
      - Añadido servicio de programador worker-beat

      #### Correcciones
      - Aumento del límite de tamaño de carga de archivos de 15MB a 100MB
      - Corregido error 404 al cargar assets de la página de plugin endpoint
      - Corregido URL de plugin endpoint que mostraba localhost
      - Corregido fallo al crear aplicaciones desde plantillas

      #### Mejoras
      - Las variables de entorno ahora son gestionadas por sus respectivos servicios, reduciendo duplicación

  id:
    description: Dify adalah platform pengembangan aplikasi LLM sumber terbuka.
    readme: |-
      Dify adalah platform pengembangan aplikasi LLM sumber terbuka. Antarmukanya yang intuitif menggabungkan alur kerja AI, pipeline RAG, kemampuan agen, manajemen model, fitur observabilitas, dan lainnya, memungkinkan Anda beralih dengan cepat dari prototipe ke produksi.

      ## Fitur

      1. **Alur Kerja**: Bangun dan uji alur kerja AI yang kuat di kanvas visual, memanfaatkan semua fitur berikut dan lebih banyak lagi.
      2. **Dukungan model yang komprehensif**: Integrasi mulus dengan ratusan LLM proprietary/sumber terbuka dari puluhan penyedia inferensi dan solusi self-hosted, mencakup GPT, Mistral, Llama3, dan model apa pun yang kompatibel dengan API OpenAI. Daftar lengkap penyedia model yang didukung dapat ditemukan di [bagian Penyedia Model](https://docs.dify.ai/getting-started/readme/model-providers).
      3. **IDE Prompt**: Antarmuka intuitif untuk membuat prompt, membandingkan performa model, dan menambahkan fitur tambahan seperti text-to-speech ke aplikasi berbasis chat.
      4. **Pipeline RAG**: Kemampuan RAG yang luas mencakup segala hal mulai dari penyerapan dokumen hingga pengambilan, dengan dukungan siap pakai untuk ekstraksi teks dari PDF, PPT, dan format dokumen umum lainnya.
      5. **Kemampuan Agen**: Anda dapat mendefinisikan agen berdasarkan LLM Function Calling atau ReAct, dan menambahkan alat bawaan atau kustom untuk agen. Dify menyediakan 50+ alat bawaan untuk agen AI, seperti Google Search, DELL·E, Stable Diffusion, dan WolframAlpha.
      6. **LLMOps**: Pantau dan analisis log dan performa aplikasi dari waktu ke waktu. Anda dapat terus meningkatkan prompt, dataset, dan model berdasarkan data produksi dan anotasi.
      7. **Backend-as-a-Service**: Semua penawaran Dify dilengkapi dengan API yang sesuai, sehingga Anda dapat dengan mudah mengintegrasikan Dify ke dalam logika bisnis Anda sendiri.

      ## Deployment

      Untuk men-deploy Dify, klik tombol "Deploy" di sudut kanan atas, dan isi nama domain yang diperlukan. Setelah di-deploy, Anda dapat mengakses aplikasi Dify Anda di `https://<your-domain>.zeabur.app`.

      ## Struktur Aplikasi

      - Redis, PostgreSQL, MINIO, dan Weaviate untuk penyimpanan data dan caching.
      - `api`, `worker`, `worker-beat`, `web`, dan `sandbox` adalah microservice Dify.
      - `plugin-daemon` mengelola eksekusi dan siklus hidup plugin pihak ketiga.
      - `nginx` adalah gateway Dify. Mengintegrasikan microservice ke satu host. Dengan kata lain, **ini adalah titik masuk aplikasi Dify Anda.**

      ## Konfigurasi

      Lihat <https://docs.dify.ai/getting-started/install-self-hosted/environments> untuk variabel yang dapat dikonfigurasi, yang terutama diatur di layanan `api`.

      ### Batas Ukuran File Upload

      Batas ukuran file upload default adalah 100 MB. Anda dapat mengubah batas ini dengan memodifikasi direktif `client_max_body_size` di file konfigurasi yang terletak di `/etc/nginx/nginx.conf` untuk layanan `nginx`. Nilainya harus berupa string dengan satuan (misalnya, `100M` untuk 100 MB).

      Selain itu, Anda mungkin perlu mengatur variabel `UPLOAD_FILE_SIZE_LIMIT` di lingkungan layanan `api` agar sesuai dengan nilai ini. Pastikan nilai ini sama dengan direktif `client_max_body_size` dalam konfigurasi `/etc/nginx/nginx.conf` (misalnya, `100M` untuk 100 MB).

      ## Catatan Perubahan

      ### v1.13.0

      #### Baru
      - Node alur kerja Human-in-the-Loop (HITL) untuk kolaborasi AI-manusia
      - Streaming alur kerja sekarang berjalan di worker Celery untuk keandalan yang lebih baik

      #### Perbaikan
      - URL file internal untuk komunikasi plugin daemon

      ### v1.12.1-2

      #### Baru
      - Menambahkan layanan penjadwal worker-beat

      #### Perbaikan
      - Meningkatkan batas ukuran upload file dari 15MB ke 100MB
      - Memperbaiki error 404 saat memuat asset halaman plugin endpoint
      - Memperbaiki URL plugin endpoint yang menampilkan localhost
      - Memperbaiki kegagalan pembuatan aplikasi dari template

      #### Peningkatan
      - Variabel lingkungan sekarang dikelola oleh layanan masing-masing, mengurangi duplikasi
